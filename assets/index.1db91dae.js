import{C as p,S as N,A as m,T as s,a as R,b as h,N as z,c as I,d as W,G as x,e as J,f as T,g as K,s as L,p as Q,h as ee,i as oe}from"./vendor.3db1c10a.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))n(d);new MutationObserver(d=>{for(const a of d)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(d){const a={};return d.integrity&&(a.integrity=d.integrity),d.referrerpolicy&&(a.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?a.credentials="include":d.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(d){if(d.ep)return;d.ep=!0;const a=t(d);fetch(d.href,a)}})();function te(){let o=window.location.search,e=new URLSearchParams(o);return Object.fromEntries(e.entries())}class S extends p{addTo(e,t=0){return e.addChild(this),t&&e.sortableChildren&&(this.zIndex=t),this}show(){this.visible=!0}hide(){this.visible=!1}clear(){throw new Error("Method not implemented.")}}var k=(o=>(o[o.Main=1]="Main",o[o.Event=2]="Event",o[o.Side=3]="Side",o[o.Character=4]="Character",o[o.Special=6]="Special",o))(k||{}),A=(o=>(o[o.BlackFadeOutFadeIn=1]="BlackFadeOutFadeIn",o[o.WhiteFadeOutFadeIn=2]="WhiteFadeOutFadeIn",o[o.TimeElapsed=3]="TimeElapsed",o[o.CrossFade=4]="CrossFade",o))(A||{}),v=(o=>(o[o.Sepia=1]="Sepia",o[o.WhiteBlur=2]="WhiteBlur",o))(v||{}),O=(o=>(o[o.FadeIn=0]="FadeIn",o[o.SlideInFromRight=1]="SlideInFromRight",o[o.SlideInFromLeft=2]="SlideInFromLeft",o[o.SlideInFromBottom=3]="SlideInFromBottom",o))(O||{}),q=(o=>(o[o.None=0]="None",o[o.OuterLeft=1]="OuterLeft",o[o.InnerLeft=2]="InnerLeft",o[o.Center=3]="Center",o[o.InnerRight=4]="InnerRight",o[o.OuterRight=5]="OuterRight",o))(q||{});const ne=[{Id:1,StartPositionX:50,StartPositionY:0,StartZoomRatio:160,EndPositionX:-50,EndPositionY:0,EndZoomRatio:160,CameraMoveTurnaroundTimeSeconds:1e3},{Id:2,StartPositionX:-50,StartPositionY:0,StartZoomRatio:140,EndPositionX:0,EndPositionY:0,EndZoomRatio:140,CameraMoveTurnaroundTimeSeconds:100},{Id:3,StartPositionX:0,StartPositionY:50,StartZoomRatio:140,EndPositionX:0,EndPositionY:0,EndZoomRatio:140,CameraMoveTurnaroundTimeSeconds:100},{Id:4,StartPositionX:0,StartPositionY:-50,StartZoomRatio:140,EndPositionX:0,EndPositionY:0,EndZoomRatio:140,CameraMoveTurnaroundTimeSeconds:100},{Id:5,StartPositionX:50,StartPositionY:0,StartZoomRatio:340,EndPositionX:0,EndPositionY:0,EndZoomRatio:140,CameraMoveTurnaroundTimeSeconds:0},{Id:6,StartPositionX:50,StartPositionY:0,StartZoomRatio:160,EndPositionX:-20,EndPositionY:0,EndZoomRatio:180,CameraMoveTurnaroundTimeSeconds:5e3},{Id:7,StartPositionX:-50,StartPositionY:0,StartZoomRatio:160,EndPositionX:0,EndPositionY:0,EndZoomRatio:180,CameraMoveTurnaroundTimeSeconds:4e3},{Id:8,StartPositionX:0,StartPositionY:20,StartZoomRatio:140,EndPositionX:0,EndPositionY:20,EndZoomRatio:180,CameraMoveTurnaroundTimeSeconds:3e3},{Id:9,StartPositionX:50,StartPositionY:0,StartZoomRatio:160,EndPositionX:-20,EndPositionY:0,EndZoomRatio:180,CameraMoveTurnaroundTimeSeconds:3e3},{Id:10,StartPositionX:0,StartPositionY:0,StartZoomRatio:160,EndPositionX:50,EndPositionY:0,EndZoomRatio:160,CameraMoveTurnaroundTimeSeconds:10},{Id:11,StartPositionX:0,StartPositionY:0,StartZoomRatio:160,EndPositionX:-50,EndPositionY:0,EndZoomRatio:160,CameraMoveTurnaroundTimeSeconds:10}];class ie extends S{_bgMap=new Map;_currentBG;_currentCard;_currentCardLabel="";_currentCameraEffects;_cuttentZoom;constructor(){super(),this.sortableChildren=!0}static new(){return new this}clear(){this._bgMap.clear(),this._currentBG&&this.removeChild(this._currentBG)}execute({BackgroundImageFileName:e,BackgroundCharacterImageFileName:t,BackgroundImageFileFadeType:n,StillPhotoFileName:d,SceneCameraMasterId:a,FadeValue1:i=0,FadeValue2:r=0,FadeValue3:M=0}){if(this._currentCameraEffects&&this._cuttentZoom&&(this._cuttentZoom.stop(),this._currentBG?.position.set(1920/2-(this._currentCameraEffects?.EndPositionX??0),1080/2-(this._currentCameraEffects?.EndPositionY??0)),this._cuttentZoom=void 0,this._currentCameraEffects=void 0),!e&&!t&&!d){this._characterImageControl();return}let f=0,g=0,u;if(e&&(this._currentBG&&(this._currentBG.zIndex=0),this._bgMap.has(e)||(u=new N(m.get(`bg_${e}`)),u.anchor.set(.5),u.scale.set(1.17),u.position.set(1920/2,1080/2),this._bgMap.set(e,u)),u=u||this._bgMap.get(e),u!=this._currentBG&&(u.zIndex=1,u.alpha=0,this.addChild(u))),d&&(this._currentBG&&(this._currentBG.zIndex=0),this._bgMap.has(d)||(u=new N(m.get(`still_${d}`)),u.anchor.set(.5),u.scale.set(1.17),u.position.set(1920/2,1080/2),this._bgMap.set(d,u)),u=u||this._bgMap.get(d),u!=this._currentBG&&(u.zIndex=1,u.alpha=0,this.addChild(u))),a&&(this._currentCameraEffects=ne.find(l=>l.Id==a),u?.scale.set(.007*(this._currentCameraEffects?.StartZoomRatio||160)),u?.position.set(1920/2-(this._currentCameraEffects?.StartPositionX??0),1080/2-(this._currentCameraEffects?.StartPositionY??0)),this._cuttentZoom=new s(u).to({position:{x:1920/2-(this._currentCameraEffects?.EndPositionX??0),y:1080/2-(this._currentCameraEffects?.EndPositionY??0)},scale:1.17},this._currentCameraEffects?.CameraMoveTurnaroundTimeSeconds),g=this._currentCameraEffects?.CameraMoveTurnaroundTimeSeconds||0),n)switch(n){case A.CrossFade:u&&new s(u).to({alpha:1},i*1e3).start(),f=i*1e3;break;case A.TimeElapsed:f=1e3;break;default:f=i*1e3;break}if(f>0)return()=>(setTimeout(()=>{this._characterImageControl(t),this._insertBG(u,this._cuttentZoom)},f),new Promise((l,C)=>{setTimeout(()=>{l()},f+250)}));if(this._cuttentZoom)return()=>(this._characterImageControl(t),this._insertBG(u,this._cuttentZoom),new Promise((l,C)=>{setTimeout(()=>{l()},g)}));this._characterImageControl(t),this._insertBG(u,this._cuttentZoom)}_insertBG(e,t){t&&t.start().onComplete(()=>{this._cuttentZoom=void 0,this._currentCameraEffects=void 0}),e&&e!=this._currentBG&&(e.alpha=1,this._currentBG&&this.removeChild(this._currentBG),this._currentBG=e)}_characterImageControl(e){if(!e&&this._currentCard&&(this.removeChild(this._currentCard),this._currentCard=void 0),e&&e!=this._currentCardLabel){let t;this._bgMap.has(e)||(t=new N(m.get(`card_${e}`)),t.anchor.set(.5),t.scale.set(1.17),t.position.set(1920/2,1080/2),t.zIndex=2,this._bgMap.set(e,t)),this._currentCard=t||this._bgMap.get(e),this._currentCardLabel=e,this.addChild(this._currentCard)}}}const de=[{Id:101,TargetCharacterBaseId:"101",LoopSpeed:1.06,Height:158,Size:2},{Id:102,TargetCharacterBaseId:"102",LoopSpeed:.89,Height:158,Size:2},{Id:103,TargetCharacterBaseId:"103",LoopSpeed:.88,Height:154,Size:2},{Id:104,TargetCharacterBaseId:"104",LoopSpeed:.95,Height:146,Size:1},{Id:105,TargetCharacterBaseId:"105",LoopSpeed:.77,Height:157,Size:2},{Id:106,TargetCharacterBaseId:"106",LoopSpeed:1.21,Height:165,Size:2},{Id:107,TargetCharacterBaseId:"107",LoopSpeed:.8,Height:164,Size:2},{Id:110,TargetCharacterBaseId:"110",LoopSpeed:.85,Height:162,Size:2},{Id:111,TargetCharacterBaseId:"111",LoopSpeed:.75,Height:156,Size:2},{Id:201,TargetCharacterBaseId:"201",LoopSpeed:.94,Height:165,Size:2},{Id:202,TargetCharacterBaseId:"202",LoopSpeed:1.15,Height:154,Size:2},{Id:203,TargetCharacterBaseId:"203",LoopSpeed:1.07,Height:162,Size:2},{Id:204,TargetCharacterBaseId:"204",LoopSpeed:1.13,Height:158,Size:2},{Id:205,TargetCharacterBaseId:"205",LoopSpeed:1.03,Height:147,Size:1},{Id:206,TargetCharacterBaseId:"206",LoopSpeed:.78,Height:156,Size:2},{Id:301,TargetCharacterBaseId:"301",LoopSpeed:1,Height:159,Size:2},{Id:302,TargetCharacterBaseId:"302",LoopSpeed:1.18,Height:163,Size:2},{Id:303,TargetCharacterBaseId:"303",LoopSpeed:.84,Height:151,Size:1},{Id:304,TargetCharacterBaseId:"304",LoopSpeed:1.05,Height:168,Size:2},{Id:305,TargetCharacterBaseId:"305",LoopSpeed:.83,Height:155,Size:2},{Id:306,TargetCharacterBaseId:"306",LoopSpeed:1.1,Height:155,Size:2},{Id:401,TargetCharacterBaseId:"401",LoopSpeed:1.19,Height:158,Size:2},{Id:402,TargetCharacterBaseId:"402",LoopSpeed:1.16,Height:156,Size:2},{Id:403,TargetCharacterBaseId:"403",LoopSpeed:.99,Height:163,Size:2},{Id:404,TargetCharacterBaseId:"404",LoopSpeed:1.1,Height:160,Size:2},{Id:405,TargetCharacterBaseId:"405",LoopSpeed:.76,Height:151,Size:1},{Id:406,TargetCharacterBaseId:"406",LoopSpeed:.97,Height:164,Size:2},{Id:407,TargetCharacterBaseId:"407",LoopSpeed:.86,Height:159,Size:2},{Id:408,TargetCharacterBaseId:"408",LoopSpeed:1.19,Height:150,Size:2},{Id:409,TargetCharacterBaseId:"409",LoopSpeed:1.25,Height:150,Size:2},{Id:501,TargetCharacterBaseId:"501",LoopSpeed:.93,Height:166,Size:2},{Id:502,TargetCharacterBaseId:"502",LoopSpeed:1.17,Height:146,Size:1},{Id:503,TargetCharacterBaseId:"503",LoopSpeed:1.07,Height:160,Size:2},{Id:504,TargetCharacterBaseId:"504",LoopSpeed:.91,Height:162,Size:2},{Id:505,TargetCharacterBaseId:"505",LoopSpeed:.96,Height:156,Size:2},{Id:506,TargetCharacterBaseId:"506",LoopSpeed:1.04,Height:146,Size:1},{Id:507,TargetCharacterBaseId:"507",LoopSpeed:1.15,Height:146,Size:1},{Id:508,TargetCharacterBaseId:"508",LoopSpeed:1.2,Height:150,Size:1},{Id:509,TargetCharacterBaseId:"509",LoopSpeed:1.07,Height:165,Size:2},{Id:511,TargetCharacterBaseId:"511",LoopSpeed:1.16,Height:154,Size:1},{Id:513,TargetCharacterBaseId:"513",LoopSpeed:1.07,Height:165,Size:2},{Id:514,TargetCharacterBaseId:"514",LoopSpeed:1.07,Height:147,Size:2},{Id:515,TargetCharacterBaseId:"515",LoopSpeed:.89,Height:145,Size:2},{Id:516,TargetCharacterBaseId:"516",LoopSpeed:1,Height:165,Size:2},{Id:517,TargetCharacterBaseId:"517",LoopSpeed:.95,Height:164,Size:2},{Id:518,TargetCharacterBaseId:"518",LoopSpeed:1.08,Height:170,Size:2},{Id:519,TargetCharacterBaseId:"519",LoopSpeed:.89,Height:164,Size:2},{Id:520,TargetCharacterBaseId:"520",LoopSpeed:1.25,Height:152,Size:1},{Id:521,TargetCharacterBaseId:"521",LoopSpeed:1.1,Height:146,Size:1},{Id:901,TargetCharacterBaseId:"901",LoopSpeed:1.08,Height:157,Size:2},{Id:902,TargetCharacterBaseId:"902",LoopSpeed:1,Height:160,Size:2},{Id:904,TargetCharacterBaseId:"904",LoopSpeed:.95,Height:162,Size:2},{Id:906,TargetCharacterBaseId:"906",LoopSpeed:1.1,Height:156,Size:2},{Id:909,TargetCharacterBaseId:"909",LoopSpeed:1.25,Height:154,Size:2}],ae=[{Id:1,BeforeMotionName:"body/normal",AfterMotionName:"body/happy",Second:.4},{Id:2,BeforeMotionName:"body/normal",AfterMotionName:"body/angry",Second:.3},{Id:3,BeforeMotionName:"body/normal",AfterMotionName:"body/sad",Second:.3},{Id:4,BeforeMotionName:"body/normal",AfterMotionName:"body/amazement",Second:.3},{Id:5,BeforeMotionName:"body/normal",AfterMotionName:"body/shy",Second:.35},{Id:6,BeforeMotionName:"body/normal",AfterMotionName:"body/think",Second:.35},{Id:7,BeforeMotionName:"body/normal",AfterMotionName:"body/unique1",Second:.4},{Id:8,BeforeMotionName:"body/normal",AfterMotionName:"body/unique2",Second:.45},{Id:9,BeforeMotionName:"body/normal",AfterMotionName:"body/unique3",Second:.35},{Id:10,BeforeMotionName:"body/normal",AfterMotionName:"body/unique4",Second:.3},{Id:11,BeforeMotionName:"body/normal",AfterMotionName:"body/unique5",Second:.3},{Id:12,BeforeMotionName:"body/normal",AfterMotionName:"body/unique6",Second:.3},{Id:13,BeforeMotionName:"body/normal",AfterMotionName:"body/unique7",Second:.4},{Id:14,BeforeMotionName:"body/normal",AfterMotionName:"body/unique8",Second:.4},{Id:15,BeforeMotionName:"body/normal",AfterMotionName:"body/unique9",Second:.3},{Id:16,BeforeMotionName:"body/normal",AfterMotionName:"body/unique10",Second:.3},{Id:17,BeforeMotionName:"body/normal",AfterMotionName:"body/unique11",Second:.4},{Id:18,BeforeMotionName:"body/normal",AfterMotionName:"body/unique12",Second:.3},{Id:19,BeforeMotionName:"body/normal",AfterMotionName:"body/unique13",Second:.3},{Id:20,BeforeMotionName:"body/normal",AfterMotionName:"body/unique14",Second:.4},{Id:21,BeforeMotionName:"body/normal",AfterMotionName:"body/unique15",Second:.4},{Id:22,BeforeMotionName:"body/normal",AfterMotionName:"body/unique16",Second:.4},{Id:23,BeforeMotionName:"body/normal",AfterMotionName:"body/unique17",Second:.3},{Id:24,BeforeMotionName:"body/normal",AfterMotionName:"body/unique18",Second:.3},{Id:25,BeforeMotionName:"body/normal",AfterMotionName:"body/unique19",Second:.4},{Id:26,BeforeMotionName:"body/normal",AfterMotionName:"body/unique20",Second:.35},{Id:27,BeforeMotionName:"body/normal",AfterMotionName:"body/unique21",Second:.4},{Id:28,BeforeMotionName:"body/happy",AfterMotionName:"body/normal",Second:.35},{Id:29,BeforeMotionName:"body/happy",AfterMotionName:"body/angry",Second:.3},{Id:30,BeforeMotionName:"body/happy",AfterMotionName:"body/sad",Second:.3},{Id:31,BeforeMotionName:"body/happy",AfterMotionName:"body/amazement",Second:.4},{Id:32,BeforeMotionName:"body/happy",AfterMotionName:"body/shy",Second:.35},{Id:33,BeforeMotionName:"body/happy",AfterMotionName:"body/think",Second:.3},{Id:34,BeforeMotionName:"body/happy",AfterMotionName:"body/unique1",Second:.45},{Id:35,BeforeMotionName:"body/happy",AfterMotionName:"body/unique2",Second:.3},{Id:36,BeforeMotionName:"body/happy",AfterMotionName:"body/unique3",Second:.4},{Id:37,BeforeMotionName:"body/happy",AfterMotionName:"body/unique4",Second:.45},{Id:38,BeforeMotionName:"body/happy",AfterMotionName:"body/unique5",Second:.45},{Id:39,BeforeMotionName:"body/happy",AfterMotionName:"body/unique6",Second:.4},{Id:40,BeforeMotionName:"body/happy",AfterMotionName:"body/unique7",Second:.4},{Id:41,BeforeMotionName:"body/happy",AfterMotionName:"body/unique8",Second:.4},{Id:42,BeforeMotionName:"body/happy",AfterMotionName:"body/unique9",Second:.3},{Id:43,BeforeMotionName:"body/happy",AfterMotionName:"body/unique10",Second:.3},{Id:44,BeforeMotionName:"body/happy",AfterMotionName:"body/unique11",Second:.3},{Id:45,BeforeMotionName:"body/happy",AfterMotionName:"body/unique12",Second:.3},{Id:46,BeforeMotionName:"body/happy",AfterMotionName:"body/unique13",Second:.3},{Id:47,BeforeMotionName:"body/happy",AfterMotionName:"body/unique14",Second:.3},{Id:48,BeforeMotionName:"body/happy",AfterMotionName:"body/unique15",Second:.3},{Id:49,BeforeMotionName:"body/happy",AfterMotionName:"body/unique16",Second:.45},{Id:50,BeforeMotionName:"body/happy",AfterMotionName:"body/unique17",Second:.3},{Id:51,BeforeMotionName:"body/happy",AfterMotionName:"body/unique18",Second:.45},{Id:52,BeforeMotionName:"body/happy",AfterMotionName:"body/unique19",Second:.3},{Id:53,BeforeMotionName:"body/happy",AfterMotionName:"body/unique20",Second:.3},{Id:54,BeforeMotionName:"body/happy",AfterMotionName:"body/unique21",Second:.35},{Id:55,BeforeMotionName:"body/angry",AfterMotionName:"body/normal",Second:.3},{Id:56,BeforeMotionName:"body/angry",AfterMotionName:"body/happy",Second:.4},{Id:57,BeforeMotionName:"body/angry",AfterMotionName:"body/sad",Second:.4},{Id:58,BeforeMotionName:"body/angry",AfterMotionName:"body/amazement",Second:.3},{Id:59,BeforeMotionName:"body/angry",AfterMotionName:"body/shy",Second:.4},{Id:60,BeforeMotionName:"body/angry",AfterMotionName:"body/think",Second:.3},{Id:61,BeforeMotionName:"body/angry",AfterMotionName:"body/unique1",Second:.3},{Id:62,BeforeMotionName:"body/angry",AfterMotionName:"body/unique2",Second:.3},{Id:63,BeforeMotionName:"body/angry",AfterMotionName:"body/unique3",Second:.3},{Id:64,BeforeMotionName:"body/angry",AfterMotionName:"body/unique4",Second:.45},{Id:65,BeforeMotionName:"body/angry",AfterMotionName:"body/unique5",Second:.35},{Id:66,BeforeMotionName:"body/angry",AfterMotionName:"body/unique6",Second:.4},{Id:67,BeforeMotionName:"body/angry",AfterMotionName:"body/unique7",Second:.35},{Id:68,BeforeMotionName:"body/angry",AfterMotionName:"body/unique8",Second:.35},{Id:69,BeforeMotionName:"body/angry",AfterMotionName:"body/unique9",Second:.3},{Id:70,BeforeMotionName:"body/angry",AfterMotionName:"body/unique10",Second:.3},{Id:71,BeforeMotionName:"body/angry",AfterMotionName:"body/unique11",Second:.3},{Id:72,BeforeMotionName:"body/angry",AfterMotionName:"body/unique12",Second:.3},{Id:73,BeforeMotionName:"body/angry",AfterMotionName:"body/unique13",Second:.4},{Id:74,BeforeMotionName:"body/angry",AfterMotionName:"body/unique14",Second:.3},{Id:75,BeforeMotionName:"body/angry",AfterMotionName:"body/unique15",Second:.3},{Id:76,BeforeMotionName:"body/angry",AfterMotionName:"body/unique16",Second:.3},{Id:77,BeforeMotionName:"body/angry",AfterMotionName:"body/unique17",Second:.3},{Id:78,BeforeMotionName:"body/angry",AfterMotionName:"body/unique18",Second:.4},{Id:79,BeforeMotionName:"body/angry",AfterMotionName:"body/unique19",Second:.3},{Id:80,BeforeMotionName:"body/angry",AfterMotionName:"body/unique20",Second:.3},{Id:81,BeforeMotionName:"body/angry",AfterMotionName:"body/unique21",Second:.35},{Id:82,BeforeMotionName:"body/sad",AfterMotionName:"body/normal",Second:.3},{Id:83,BeforeMotionName:"body/sad",AfterMotionName:"body/happy",Second:.3},{Id:84,BeforeMotionName:"body/sad",AfterMotionName:"body/angry",Second:.3},{Id:85,BeforeMotionName:"body/sad",AfterMotionName:"body/amazement",Second:.4},{Id:86,BeforeMotionName:"body/sad",AfterMotionName:"body/shy",Second:.35},{Id:87,BeforeMotionName:"body/sad",AfterMotionName:"body/think",Second:.3},{Id:88,BeforeMotionName:"body/sad",AfterMotionName:"body/unique1",Second:.3},{Id:89,BeforeMotionName:"body/sad",AfterMotionName:"body/unique2",Second:.3},{Id:90,BeforeMotionName:"body/sad",AfterMotionName:"body/unique3",Second:.3},{Id:91,BeforeMotionName:"body/sad",AfterMotionName:"body/unique4",Second:.45},{Id:92,BeforeMotionName:"body/sad",AfterMotionName:"body/unique5",Second:.35},{Id:93,BeforeMotionName:"body/sad",AfterMotionName:"body/unique6",Second:.35},{Id:94,BeforeMotionName:"body/sad",AfterMotionName:"body/unique7",Second:.35},{Id:95,BeforeMotionName:"body/sad",AfterMotionName:"body/unique8",Second:.4},{Id:96,BeforeMotionName:"body/sad",AfterMotionName:"body/unique9",Second:.3},{Id:97,BeforeMotionName:"body/sad",AfterMotionName:"body/unique10",Second:.3},{Id:98,BeforeMotionName:"body/sad",AfterMotionName:"body/unique11",Second:.3},{Id:99,BeforeMotionName:"body/sad",AfterMotionName:"body/unique12",Second:.3},{Id:100,BeforeMotionName:"body/sad",AfterMotionName:"body/unique13",Second:.4},{Id:101,BeforeMotionName:"body/sad",AfterMotionName:"body/unique14",Second:.35},{Id:102,BeforeMotionName:"body/sad",AfterMotionName:"body/unique15",Second:.3},{Id:103,BeforeMotionName:"body/sad",AfterMotionName:"body/unique16",Second:.3},{Id:104,BeforeMotionName:"body/sad",AfterMotionName:"body/unique17",Second:.3},{Id:105,BeforeMotionName:"body/sad",AfterMotionName:"body/unique18",Second:.4},{Id:106,BeforeMotionName:"body/sad",AfterMotionName:"body/unique19",Second:.3},{Id:107,BeforeMotionName:"body/sad",AfterMotionName:"body/unique20",Second:.3},{Id:108,BeforeMotionName:"body/sad",AfterMotionName:"body/unique21",Second:.3},{Id:109,BeforeMotionName:"body/amazement",AfterMotionName:"body/normal",Second:.3},{Id:110,BeforeMotionName:"body/amazement",AfterMotionName:"body/happy",Second:.4},{Id:111,BeforeMotionName:"body/amazement",AfterMotionName:"body/angry",Second:.3},{Id:112,BeforeMotionName:"body/amazement",AfterMotionName:"body/sad",Second:.3},{Id:113,BeforeMotionName:"body/amazement",AfterMotionName:"body/shy",Second:.45},{Id:114,BeforeMotionName:"body/amazement",AfterMotionName:"body/think",Second:.3},{Id:115,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique1",Second:.3},{Id:116,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique2",Second:.4},{Id:117,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique3",Second:.3},{Id:118,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique4",Second:.3},{Id:119,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique5",Second:.3},{Id:120,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique6",Second:.4},{Id:121,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique7",Second:.4},{Id:122,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique8",Second:.4},{Id:123,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique9",Second:.4},{Id:124,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique10",Second:.3},{Id:125,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique11",Second:.35},{Id:126,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique12",Second:.4},{Id:127,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique13",Second:.3},{Id:128,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique14",Second:.3},{Id:129,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique15",Second:.3},{Id:130,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique16",Second:.3},{Id:131,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique17",Second:.3},{Id:132,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique18",Second:.3},{Id:133,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique19",Second:.4},{Id:134,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique20",Second:.4},{Id:135,BeforeMotionName:"body/amazement",AfterMotionName:"body/unique21",Second:.4},{Id:136,BeforeMotionName:"body/shy",AfterMotionName:"body/normal",Second:.35},{Id:137,BeforeMotionName:"body/shy",AfterMotionName:"body/happy",Second:.35},{Id:138,BeforeMotionName:"body/shy",AfterMotionName:"body/angry",Second:.3},{Id:139,BeforeMotionName:"body/shy",AfterMotionName:"body/sad",Second:.3},{Id:140,BeforeMotionName:"body/shy",AfterMotionName:"body/amazement",Second:.4},{Id:141,BeforeMotionName:"body/shy",AfterMotionName:"body/think",Second:.3},{Id:142,BeforeMotionName:"body/shy",AfterMotionName:"body/unique1",Second:.3},{Id:143,BeforeMotionName:"body/shy",AfterMotionName:"body/unique2",Second:.4},{Id:144,BeforeMotionName:"body/shy",AfterMotionName:"body/unique3",Second:.3},{Id:145,BeforeMotionName:"body/shy",AfterMotionName:"body/unique4",Second:.35},{Id:146,BeforeMotionName:"body/shy",AfterMotionName:"body/unique5",Second:.35},{Id:147,BeforeMotionName:"body/shy",AfterMotionName:"body/unique6",Second:.45},{Id:148,BeforeMotionName:"body/shy",AfterMotionName:"body/unique7",Second:.4},{Id:149,BeforeMotionName:"body/shy",AfterMotionName:"body/unique8",Second:.4},{Id:150,BeforeMotionName:"body/shy",AfterMotionName:"body/unique9",Second:.3},{Id:151,BeforeMotionName:"body/shy",AfterMotionName:"body/unique10",Second:.3},{Id:152,BeforeMotionName:"body/shy",AfterMotionName:"body/unique11",Second:.3},{Id:153,BeforeMotionName:"body/shy",AfterMotionName:"body/unique12",Second:.3},{Id:154,BeforeMotionName:"body/shy",AfterMotionName:"body/unique13",Second:.3},{Id:155,BeforeMotionName:"body/shy",AfterMotionName:"body/unique14",Second:.3},{Id:156,BeforeMotionName:"body/shy",AfterMotionName:"body/unique15",Second:.3},{Id:157,BeforeMotionName:"body/shy",AfterMotionName:"body/unique16",Second:.3},{Id:158,BeforeMotionName:"body/shy",AfterMotionName:"body/unique17",Second:.3},{Id:159,BeforeMotionName:"body/shy",AfterMotionName:"body/unique18",Second:.3},{Id:160,BeforeMotionName:"body/shy",AfterMotionName:"body/unique19",Second:.35},{Id:161,BeforeMotionName:"body/shy",AfterMotionName:"body/unique20",Second:.3},{Id:162,BeforeMotionName:"body/shy",AfterMotionName:"body/unique21",Second:.35},{Id:163,BeforeMotionName:"body/think",AfterMotionName:"body/normal",Second:.3},{Id:164,BeforeMotionName:"body/think",AfterMotionName:"body/happy",Second:.3},{Id:165,BeforeMotionName:"body/think",AfterMotionName:"body/angry",Second:.3},{Id:166,BeforeMotionName:"body/think",AfterMotionName:"body/sad",Second:.3},{Id:167,BeforeMotionName:"body/think",AfterMotionName:"body/amazement",Second:.3},{Id:168,BeforeMotionName:"body/think",AfterMotionName:"body/shy",Second:.3},{Id:169,BeforeMotionName:"body/think",AfterMotionName:"body/unique1",Second:.45},{Id:170,BeforeMotionName:"body/think",AfterMotionName:"body/unique2",Second:.3},{Id:171,BeforeMotionName:"body/think",AfterMotionName:"body/unique3",Second:.3},{Id:172,BeforeMotionName:"body/think",AfterMotionName:"body/unique4",Second:.35},{Id:173,BeforeMotionName:"body/think",AfterMotionName:"body/unique5",Second:.4},{Id:174,BeforeMotionName:"body/think",AfterMotionName:"body/unique6",Second:.4},{Id:175,BeforeMotionName:"body/think",AfterMotionName:"body/unique7",Second:.3},{Id:176,BeforeMotionName:"body/think",AfterMotionName:"body/unique8",Second:.35},{Id:177,BeforeMotionName:"body/think",AfterMotionName:"body/unique9",Second:.3},{Id:178,BeforeMotionName:"body/think",AfterMotionName:"body/unique10",Second:.3},{Id:179,BeforeMotionName:"body/think",AfterMotionName:"body/unique11",Second:.3},{Id:180,BeforeMotionName:"body/think",AfterMotionName:"body/unique12",Second:.3},{Id:181,BeforeMotionName:"body/think",AfterMotionName:"body/unique13",Second:.4},{Id:182,BeforeMotionName:"body/think",AfterMotionName:"body/unique14",Second:.3},{Id:183,BeforeMotionName:"body/think",AfterMotionName:"body/unique15",Second:.35},{Id:184,BeforeMotionName:"body/think",AfterMotionName:"body/unique16",Second:.3},{Id:185,BeforeMotionName:"body/think",AfterMotionName:"body/unique17",Second:.3},{Id:186,BeforeMotionName:"body/think",AfterMotionName:"body/unique18",Second:.45},{Id:187,BeforeMotionName:"body/think",AfterMotionName:"body/unique19",Second:.3},{Id:188,BeforeMotionName:"body/think",AfterMotionName:"body/unique20",Second:.3},{Id:189,BeforeMotionName:"body/think",AfterMotionName:"body/unique21",Second:.3},{Id:190,BeforeMotionName:"body/unique1",AfterMotionName:"body/normal",Second:.35},{Id:191,BeforeMotionName:"body/unique1",AfterMotionName:"body/happy",Second:.35},{Id:192,BeforeMotionName:"body/unique1",AfterMotionName:"body/angry",Second:.3},{Id:193,BeforeMotionName:"body/unique1",AfterMotionName:"body/sad",Second:.3},{Id:194,BeforeMotionName:"body/unique1",AfterMotionName:"body/amazement",Second:.3},{Id:195,BeforeMotionName:"body/unique1",AfterMotionName:"body/shy",Second:.35},{Id:196,BeforeMotionName:"body/unique1",AfterMotionName:"body/think",Second:.3},{Id:197,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique2",Second:.45},{Id:198,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique3",Second:.3},{Id:199,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique4",Second:.3},{Id:200,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique5",Second:.3},{Id:201,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique6",Second:.45},{Id:202,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique7",Second:.45},{Id:203,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique8",Second:.4},{Id:204,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique9",Second:.45},{Id:205,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique10",Second:.35},{Id:206,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique11",Second:.35},{Id:207,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique12",Second:.4},{Id:208,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique13",Second:.3},{Id:209,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique14",Second:.3},{Id:210,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique15",Second:.3},{Id:211,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique16",Second:.3},{Id:212,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique17",Second:.3},{Id:213,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique18",Second:.3},{Id:214,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique19",Second:.3},{Id:215,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique20",Second:.35},{Id:216,BeforeMotionName:"body/unique1",AfterMotionName:"body/unique21",Second:.3},{Id:217,BeforeMotionName:"body/unique2",AfterMotionName:"body/normal",Second:.45},{Id:218,BeforeMotionName:"body/unique2",AfterMotionName:"body/happy",Second:.35},{Id:219,BeforeMotionName:"body/unique2",AfterMotionName:"body/angry",Second:.35},{Id:220,BeforeMotionName:"body/unique2",AfterMotionName:"body/sad",Second:.3},{Id:221,BeforeMotionName:"body/unique2",AfterMotionName:"body/amazement",Second:.35},{Id:222,BeforeMotionName:"body/unique2",AfterMotionName:"body/shy",Second:.3},{Id:223,BeforeMotionName:"body/unique2",AfterMotionName:"body/think",Second:.35},{Id:224,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique1",Second:.4},{Id:225,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique3",Second:.4},{Id:226,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique4",Second:.3},{Id:227,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique5",Second:.35},{Id:228,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique6",Second:.4},{Id:229,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique7",Second:.3},{Id:230,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique8",Second:.4},{Id:231,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique9",Second:.4},{Id:232,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique10",Second:.4},{Id:233,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique11",Second:.35},{Id:234,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique12",Second:.35},{Id:235,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique13",Second:.35},{Id:236,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique14",Second:.35},{Id:237,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique15",Second:.3},{Id:238,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique16",Second:.4},{Id:239,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique17",Second:.35},{Id:240,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique18",Second:.4},{Id:241,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique19",Second:.35},{Id:242,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique20",Second:.4},{Id:243,BeforeMotionName:"body/unique2",AfterMotionName:"body/unique21",Second:.35},{Id:244,BeforeMotionName:"body/unique3",AfterMotionName:"body/normal",Second:.3},{Id:245,BeforeMotionName:"body/unique3",AfterMotionName:"body/happy",Second:.4},{Id:246,BeforeMotionName:"body/unique3",AfterMotionName:"body/angry",Second:.3},{Id:247,BeforeMotionName:"body/unique3",AfterMotionName:"body/sad",Second:.4},{Id:248,BeforeMotionName:"body/unique3",AfterMotionName:"body/amazement",Second:.3},{Id:249,BeforeMotionName:"body/unique3",AfterMotionName:"body/shy",Second:.35},{Id:250,BeforeMotionName:"body/unique3",AfterMotionName:"body/think",Second:.3},{Id:251,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique1",Second:.3},{Id:252,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique2",Second:.4},{Id:253,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique4",Second:.3},{Id:254,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique5",Second:.3},{Id:255,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique6",Second:.35},{Id:256,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique7",Second:.45},{Id:257,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique8",Second:.3},{Id:258,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique9",Second:.3},{Id:259,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique10",Second:.3},{Id:260,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique11",Second:.3},{Id:261,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique12",Second:.3},{Id:262,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique13",Second:.3},{Id:263,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique14",Second:.3},{Id:264,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique15",Second:.3},{Id:265,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique16",Second:.3},{Id:266,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique17",Second:.3},{Id:267,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique18",Second:.3},{Id:268,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique19",Second:.3},{Id:269,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique20",Second:.3},{Id:270,BeforeMotionName:"body/unique3",AfterMotionName:"body/unique21",Second:.3},{Id:271,BeforeMotionName:"body/unique4",AfterMotionName:"body/normal",Second:.35},{Id:272,BeforeMotionName:"body/unique4",AfterMotionName:"body/happy",Second:.35},{Id:273,BeforeMotionName:"body/unique4",AfterMotionName:"body/angry",Second:.3},{Id:274,BeforeMotionName:"body/unique4",AfterMotionName:"body/sad",Second:.3},{Id:275,BeforeMotionName:"body/unique4",AfterMotionName:"body/amazement",Second:.3},{Id:276,BeforeMotionName:"body/unique4",AfterMotionName:"body/shy",Second:.35},{Id:277,BeforeMotionName:"body/unique4",AfterMotionName:"body/think",Second:.3},{Id:278,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique1",Second:.3},{Id:279,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique2",Second:.35},{Id:280,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique3",Second:.3},{Id:281,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique5",Second:.35},{Id:282,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique6",Second:.4},{Id:283,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique7",Second:.3},{Id:284,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique8",Second:.3},{Id:285,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique9",Second:.3},{Id:286,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique10",Second:.3},{Id:287,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique11",Second:.3},{Id:288,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique12",Second:.3},{Id:289,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique13",Second:.4},{Id:290,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique14",Second:.3},{Id:291,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique15",Second:.3},{Id:292,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique16",Second:.3},{Id:293,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique17",Second:.3},{Id:294,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique18",Second:.3},{Id:295,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique19",Second:.3},{Id:296,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique20",Second:.3},{Id:297,BeforeMotionName:"body/unique4",AfterMotionName:"body/unique21",Second:.3},{Id:298,BeforeMotionName:"body/unique5",AfterMotionName:"body/normal",Second:.35},{Id:299,BeforeMotionName:"body/unique5",AfterMotionName:"body/happy",Second:.35},{Id:300,BeforeMotionName:"body/unique5",AfterMotionName:"body/angry",Second:.3},{Id:301,BeforeMotionName:"body/unique5",AfterMotionName:"body/sad",Second:.3},{Id:302,BeforeMotionName:"body/unique5",AfterMotionName:"body/amazement",Second:.3},{Id:303,BeforeMotionName:"body/unique5",AfterMotionName:"body/shy",Second:.35},{Id:304,BeforeMotionName:"body/unique5",AfterMotionName:"body/think",Second:.3},{Id:305,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique1",Second:.3},{Id:306,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique2",Second:.35},{Id:307,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique3",Second:.3},{Id:308,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique4",Second:.3},{Id:309,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique6",Second:.45},{Id:310,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique7",Second:.4},{Id:311,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique8",Second:.4},{Id:312,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique9",Second:.3},{Id:313,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique10",Second:.35},{Id:314,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique11",Second:.3},{Id:315,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique12",Second:.35},{Id:316,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique13",Second:.4},{Id:317,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique14",Second:.3},{Id:318,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique15",Second:.3},{Id:319,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique16",Second:.3},{Id:320,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique17",Second:.3},{Id:321,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique18",Second:.4},{Id:322,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique19",Second:.3},{Id:323,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique20",Second:.4},{Id:324,BeforeMotionName:"body/unique5",AfterMotionName:"body/unique21",Second:.3},{Id:325,BeforeMotionName:"body/unique6",AfterMotionName:"body/normal",Second:.3},{Id:326,BeforeMotionName:"body/unique6",AfterMotionName:"body/happy",Second:.45},{Id:327,BeforeMotionName:"body/unique6",AfterMotionName:"body/angry",Second:.3},{Id:328,BeforeMotionName:"body/unique6",AfterMotionName:"body/sad",Second:.3},{Id:329,BeforeMotionName:"body/unique6",AfterMotionName:"body/amazement",Second:.3},{Id:330,BeforeMotionName:"body/unique6",AfterMotionName:"body/shy",Second:.3},{Id:331,BeforeMotionName:"body/unique6",AfterMotionName:"body/think",Second:.3},{Id:332,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique1",Second:.45},{Id:333,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique2",Second:.4},{Id:334,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique3",Second:.3},{Id:335,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique4",Second:.35},{Id:336,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique5",Second:.4},{Id:337,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique7",Second:.45},{Id:338,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique8",Second:.3},{Id:339,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique9",Second:.3},{Id:340,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique10",Second:.3},{Id:341,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique11",Second:.4},{Id:342,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique12",Second:.3},{Id:343,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique13",Second:.3},{Id:344,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique14",Second:.4},{Id:345,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique15",Second:.45},{Id:346,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique16",Second:.3},{Id:347,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique17",Second:.35},{Id:348,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique18",Second:.3},{Id:349,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique19",Second:.4},{Id:350,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique20",Second:.35},{Id:351,BeforeMotionName:"body/unique6",AfterMotionName:"body/unique21",Second:.3},{Id:352,BeforeMotionName:"body/unique7",AfterMotionName:"body/normal",Second:.4},{Id:353,BeforeMotionName:"body/unique7",AfterMotionName:"body/happy",Second:.35},{Id:354,BeforeMotionName:"body/unique7",AfterMotionName:"body/angry",Second:.3},{Id:355,BeforeMotionName:"body/unique7",AfterMotionName:"body/sad",Second:.35},{Id:356,BeforeMotionName:"body/unique7",AfterMotionName:"body/amazement",Second:.4},{Id:357,BeforeMotionName:"body/unique7",AfterMotionName:"body/shy",Second:.4},{Id:358,BeforeMotionName:"body/unique7",AfterMotionName:"body/think",Second:.3},{Id:359,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique1",Second:.45},{Id:360,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique2",Second:.3},{Id:361,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique3",Second:.3},{Id:362,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique4",Second:.3},{Id:363,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique5",Second:.45},{Id:364,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique6",Second:.4},{Id:365,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique8",Second:.45},{Id:366,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique9",Second:.35},{Id:367,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique10",Second:.3},{Id:368,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique11",Second:.3},{Id:369,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique12",Second:.3},{Id:370,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique13",Second:.4},{Id:371,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique14",Second:.4},{Id:372,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique15",Second:.3},{Id:373,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique16",Second:.4},{Id:374,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique17",Second:.3},{Id:375,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique18",Second:.3},{Id:376,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique19",Second:.4},{Id:377,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique20",Second:.35},{Id:378,BeforeMotionName:"body/unique7",AfterMotionName:"body/unique21",Second:.3},{Id:379,BeforeMotionName:"body/unique8",AfterMotionName:"body/normal",Second:.3},{Id:380,BeforeMotionName:"body/unique8",AfterMotionName:"body/happy",Second:.4},{Id:381,BeforeMotionName:"body/unique8",AfterMotionName:"body/angry",Second:.3},{Id:382,BeforeMotionName:"body/unique8",AfterMotionName:"body/sad",Second:.45},{Id:383,BeforeMotionName:"body/unique8",AfterMotionName:"body/amazement",Second:.3},{Id:384,BeforeMotionName:"body/unique8",AfterMotionName:"body/shy",Second:.3},{Id:385,BeforeMotionName:"body/unique8",AfterMotionName:"body/think",Second:.3},{Id:386,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique1",Second:.3},{Id:387,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique2",Second:.3},{Id:388,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique3",Second:.3},{Id:389,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique4",Second:.3},{Id:390,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique5",Second:.35},{Id:391,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique6",Second:.3},{Id:392,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique7",Second:.35},{Id:393,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique9",Second:.3},{Id:394,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique10",Second:.3},{Id:395,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique11",Second:.3},{Id:396,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique12",Second:.3},{Id:397,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique13",Second:.3},{Id:398,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique14",Second:.3},{Id:399,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique15",Second:.3},{Id:400,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique16",Second:.4},{Id:401,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique17",Second:.3},{Id:402,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique18",Second:.3},{Id:403,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique19",Second:.3},{Id:404,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique20",Second:.4},{Id:405,BeforeMotionName:"body/unique8",AfterMotionName:"body/unique21",Second:.3},{Id:406,BeforeMotionName:"body/unique9",AfterMotionName:"body/normal",Second:.3},{Id:407,BeforeMotionName:"body/unique9",AfterMotionName:"body/happy",Second:.3},{Id:408,BeforeMotionName:"body/unique9",AfterMotionName:"body/angry",Second:.3},{Id:409,BeforeMotionName:"body/unique9",AfterMotionName:"body/sad",Second:.3},{Id:410,BeforeMotionName:"body/unique9",AfterMotionName:"body/amazement",Second:.3},{Id:411,BeforeMotionName:"body/unique9",AfterMotionName:"body/shy",Second:.3},{Id:412,BeforeMotionName:"body/unique9",AfterMotionName:"body/think",Second:.3},{Id:413,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique1",Second:.35},{Id:414,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique2",Second:.3},{Id:415,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique3",Second:.3},{Id:416,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique4",Second:.45},{Id:417,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique5",Second:.35},{Id:418,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique6",Second:.45},{Id:419,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique7",Second:.35},{Id:420,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique8",Second:.4},{Id:421,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique10",Second:.35},{Id:422,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique11",Second:.3},{Id:423,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique12",Second:.3},{Id:424,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique13",Second:.4},{Id:425,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique14",Second:.3},{Id:426,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique15",Second:.3},{Id:427,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique16",Second:.3},{Id:428,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique17",Second:.3},{Id:429,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique18",Second:.45},{Id:430,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique19",Second:.3},{Id:431,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique20",Second:.3},{Id:432,BeforeMotionName:"body/unique9",AfterMotionName:"body/unique21",Second:.3},{Id:433,BeforeMotionName:"body/unique10",AfterMotionName:"body/normal",Second:.3},{Id:434,BeforeMotionName:"body/unique10",AfterMotionName:"body/happy",Second:.3},{Id:435,BeforeMotionName:"body/unique10",AfterMotionName:"body/angry",Second:.3},{Id:436,BeforeMotionName:"body/unique10",AfterMotionName:"body/sad",Second:.3},{Id:437,BeforeMotionName:"body/unique10",AfterMotionName:"body/amazement",Second:.3},{Id:438,BeforeMotionName:"body/unique10",AfterMotionName:"body/shy",Second:.3},{Id:439,BeforeMotionName:"body/unique10",AfterMotionName:"body/think",Second:.3},{Id:440,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique1",Second:.35},{Id:441,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique2",Second:.4},{Id:442,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique3",Second:.3},{Id:443,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique4",Second:.35},{Id:444,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique5",Second:.4},{Id:445,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique6",Second:.3},{Id:446,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique7",Second:.4},{Id:447,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique8",Second:.3},{Id:448,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique9",Second:.3},{Id:449,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique11",Second:.35},{Id:450,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique12",Second:.3},{Id:451,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique13",Second:.3},{Id:452,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique14",Second:.4},{Id:453,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique15",Second:.4},{Id:454,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique16",Second:.3},{Id:455,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique17",Second:.3},{Id:456,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique18",Second:.3},{Id:457,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique19",Second:.3},{Id:458,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique20",Second:.3},{Id:459,BeforeMotionName:"body/unique10",AfterMotionName:"body/unique21",Second:.3},{Id:460,BeforeMotionName:"body/unique11",AfterMotionName:"body/normal",Second:.45},{Id:461,BeforeMotionName:"body/unique11",AfterMotionName:"body/happy",Second:.3},{Id:462,BeforeMotionName:"body/unique11",AfterMotionName:"body/angry",Second:.4},{Id:463,BeforeMotionName:"body/unique11",AfterMotionName:"body/sad",Second:.35},{Id:464,BeforeMotionName:"body/unique11",AfterMotionName:"body/amazement",Second:.45},{Id:465,BeforeMotionName:"body/unique11",AfterMotionName:"body/shy",Second:.3},{Id:466,BeforeMotionName:"body/unique11",AfterMotionName:"body/think",Second:.4},{Id:467,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique1",Second:.35},{Id:468,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique2",Second:.4},{Id:469,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique3",Second:.45},{Id:470,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique4",Second:.35},{Id:471,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique5",Second:.4},{Id:472,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique6",Second:.4},{Id:473,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique7",Second:.4},{Id:474,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique8",Second:.4},{Id:475,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique9",Second:.35},{Id:476,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique10",Second:.35},{Id:477,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique12",Second:.4},{Id:478,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique13",Second:.35},{Id:479,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique14",Second:.4},{Id:480,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique15",Second:.35},{Id:481,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique16",Second:.45},{Id:482,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique17",Second:.35},{Id:483,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique18",Second:.35},{Id:484,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique19",Second:.35},{Id:485,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique20",Second:.4},{Id:486,BeforeMotionName:"body/unique11",AfterMotionName:"body/unique21",Second:.35},{Id:487,BeforeMotionName:"body/unique12",AfterMotionName:"body/normal",Second:.35},{Id:488,BeforeMotionName:"body/unique12",AfterMotionName:"body/happy",Second:.3},{Id:489,BeforeMotionName:"body/unique12",AfterMotionName:"body/angry",Second:.3},{Id:490,BeforeMotionName:"body/unique12",AfterMotionName:"body/sad",Second:.3},{Id:491,BeforeMotionName:"body/unique12",AfterMotionName:"body/amazement",Second:.3},{Id:492,BeforeMotionName:"body/unique12",AfterMotionName:"body/shy",Second:.3},{Id:493,BeforeMotionName:"body/unique12",AfterMotionName:"body/think",Second:.3},{Id:494,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique1",Second:.35},{Id:495,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique2",Second:.3},{Id:496,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique3",Second:.3},{Id:497,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique4",Second:.45},{Id:498,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique5",Second:.4},{Id:499,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique6",Second:.4},{Id:500,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique7",Second:.3},{Id:501,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique8",Second:.3},{Id:502,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique9",Second:.3},{Id:503,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique10",Second:.35},{Id:504,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique11",Second:.3},{Id:505,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique13",Second:.45},{Id:506,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique14",Second:.35},{Id:507,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique15",Second:.3},{Id:508,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique16",Second:.3},{Id:509,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique17",Second:.3},{Id:510,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique18",Second:.45},{Id:511,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique19",Second:.3},{Id:512,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique20",Second:.3},{Id:513,BeforeMotionName:"body/unique12",AfterMotionName:"body/unique21",Second:.3},{Id:514,BeforeMotionName:"body/unique13",AfterMotionName:"body/normal",Second:.3},{Id:515,BeforeMotionName:"body/unique13",AfterMotionName:"body/happy",Second:.4},{Id:516,BeforeMotionName:"body/unique13",AfterMotionName:"body/angry",Second:.3},{Id:517,BeforeMotionName:"body/unique13",AfterMotionName:"body/sad",Second:.3},{Id:518,BeforeMotionName:"body/unique13",AfterMotionName:"body/amazement",Second:.3},{Id:519,BeforeMotionName:"body/unique13",AfterMotionName:"body/shy",Second:.3},{Id:520,BeforeMotionName:"body/unique13",AfterMotionName:"body/think",Second:.3},{Id:521,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique1",Second:.35},{Id:522,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique2",Second:.4},{Id:523,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique3",Second:.3},{Id:524,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique4",Second:.3},{Id:525,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique5",Second:.3},{Id:526,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique6",Second:.3},{Id:527,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique7",Second:.4},{Id:528,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique8",Second:.35},{Id:529,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique9",Second:.3},{Id:530,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique10",Second:.3},{Id:531,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique11",Second:.3},{Id:532,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique12",Second:.3},{Id:533,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique14",Second:.45},{Id:534,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique15",Second:.3},{Id:535,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique16",Second:.3},{Id:536,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique17",Second:.3},{Id:537,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique18",Second:.3},{Id:538,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique19",Second:.3},{Id:539,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique20",Second:.3},{Id:540,BeforeMotionName:"body/unique13",AfterMotionName:"body/unique21",Second:.3},{Id:541,BeforeMotionName:"body/unique14",AfterMotionName:"body/normal",Second:.4},{Id:542,BeforeMotionName:"body/unique14",AfterMotionName:"body/happy",Second:.4},{Id:543,BeforeMotionName:"body/unique14",AfterMotionName:"body/angry",Second:.3},{Id:544,BeforeMotionName:"body/unique14",AfterMotionName:"body/sad",Second:.45},{Id:545,BeforeMotionName:"body/unique14",AfterMotionName:"body/amazement",Second:.3},{Id:546,BeforeMotionName:"body/unique14",AfterMotionName:"body/shy",Second:.4},{Id:547,BeforeMotionName:"body/unique14",AfterMotionName:"body/think",Second:.3},{Id:548,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique1",Second:.3},{Id:549,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique2",Second:.35},{Id:550,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique3",Second:.3},{Id:551,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique4",Second:.3},{Id:552,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique5",Second:.3},{Id:553,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique6",Second:.4},{Id:554,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique7",Second:.4},{Id:555,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique8",Second:.35},{Id:556,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique9",Second:.3},{Id:557,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique10",Second:.4},{Id:558,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique11",Second:.3},{Id:559,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique12",Second:.3},{Id:560,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique13",Second:.35},{Id:561,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique15",Second:.3},{Id:562,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique16",Second:.3},{Id:563,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique17",Second:.3},{Id:564,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique18",Second:.3},{Id:565,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique19",Second:.3},{Id:566,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique20",Second:.3},{Id:567,BeforeMotionName:"body/unique14",AfterMotionName:"body/unique21",Second:.4},{Id:568,BeforeMotionName:"body/unique15",AfterMotionName:"body/normal",Second:.45},{Id:569,BeforeMotionName:"body/unique15",AfterMotionName:"body/happy",Second:.3},{Id:570,BeforeMotionName:"body/unique15",AfterMotionName:"body/angry",Second:.3},{Id:571,BeforeMotionName:"body/unique15",AfterMotionName:"body/sad",Second:.35},{Id:572,BeforeMotionName:"body/unique15",AfterMotionName:"body/amazement",Second:.3},{Id:573,BeforeMotionName:"body/unique15",AfterMotionName:"body/shy",Second:.4},{Id:574,BeforeMotionName:"body/unique15",AfterMotionName:"body/think",Second:.3},{Id:575,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique1",Second:.3},{Id:576,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique2",Second:.35},{Id:577,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique3",Second:.3},{Id:578,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique4",Second:.45},{Id:579,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique5",Second:.3},{Id:580,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique6",Second:.45},{Id:581,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique7",Second:.4},{Id:582,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique8",Second:.3},{Id:583,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique9",Second:.3},{Id:584,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique10",Second:.4},{Id:585,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique11",Second:.3},{Id:586,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique12",Second:.3},{Id:587,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique13",Second:.35},{Id:588,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique14",Second:.3},{Id:589,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique16",Second:.3},{Id:590,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique17",Second:.3},{Id:591,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique18",Second:.4},{Id:592,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique19",Second:.4},{Id:593,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique20",Second:.3},{Id:594,BeforeMotionName:"body/unique15",AfterMotionName:"body/unique21",Second:.35},{Id:595,BeforeMotionName:"body/unique16",AfterMotionName:"body/normal",Second:.45},{Id:596,BeforeMotionName:"body/unique16",AfterMotionName:"body/happy",Second:.4},{Id:597,BeforeMotionName:"body/unique16",AfterMotionName:"body/angry",Second:.3},{Id:598,BeforeMotionName:"body/unique16",AfterMotionName:"body/sad",Second:.3},{Id:599,BeforeMotionName:"body/unique16",AfterMotionName:"body/amazement",Second:.3},{Id:600,BeforeMotionName:"body/unique16",AfterMotionName:"body/shy",Second:.4},{Id:601,BeforeMotionName:"body/unique16",AfterMotionName:"body/think",Second:.3},{Id:602,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique1",Second:.4},{Id:603,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique2",Second:.45},{Id:604,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique3",Second:.3},{Id:605,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique4",Second:.3},{Id:606,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique5",Second:.3},{Id:607,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique6",Second:.4},{Id:608,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique7",Second:.35},{Id:609,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique8",Second:.4},{Id:610,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique9",Second:.3},{Id:611,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique10",Second:.4},{Id:612,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique11",Second:.35},{Id:613,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique12",Second:.35},{Id:614,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique13",Second:.3},{Id:615,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique14",Second:.35},{Id:616,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique15",Second:.3},{Id:617,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique17",Second:.3},{Id:618,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique18",Second:.3},{Id:619,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique19",Second:.4},{Id:620,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique20",Second:.4},{Id:621,BeforeMotionName:"body/unique16",AfterMotionName:"body/unique21",Second:.35},{Id:622,BeforeMotionName:"body/unique17",AfterMotionName:"body/normal",Second:.45},{Id:623,BeforeMotionName:"body/unique17",AfterMotionName:"body/happy",Second:.35},{Id:624,BeforeMotionName:"body/unique17",AfterMotionName:"body/angry",Second:.3},{Id:625,BeforeMotionName:"body/unique17",AfterMotionName:"body/sad",Second:.4},{Id:626,BeforeMotionName:"body/unique17",AfterMotionName:"body/amazement",Second:.3},{Id:627,BeforeMotionName:"body/unique17",AfterMotionName:"body/shy",Second:.4},{Id:628,BeforeMotionName:"body/unique17",AfterMotionName:"body/think",Second:.3},{Id:629,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique1",Second:.3},{Id:630,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique2",Second:.4},{Id:631,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique3",Second:.3},{Id:632,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique4",Second:.4},{Id:633,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique5",Second:.4},{Id:634,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique6",Second:.45},{Id:635,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique7",Second:.3},{Id:636,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique8",Second:.3},{Id:637,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique9",Second:.3},{Id:638,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique10",Second:.4},{Id:639,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique11",Second:.3},{Id:640,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique12",Second:.3},{Id:641,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique13",Second:.4},{Id:642,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique14",Second:.3},{Id:643,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique15",Second:.3},{Id:644,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique16",Second:.3},{Id:645,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique18",Second:.4},{Id:646,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique19",Second:.3},{Id:647,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique20",Second:.3},{Id:648,BeforeMotionName:"body/unique17",AfterMotionName:"body/unique21",Second:.4},{Id:649,BeforeMotionName:"body/unique18",AfterMotionName:"body/normal",Second:.3},{Id:650,BeforeMotionName:"body/unique18",AfterMotionName:"body/happy",Second:.4},{Id:651,BeforeMotionName:"body/unique18",AfterMotionName:"body/angry",Second:.3},{Id:652,BeforeMotionName:"body/unique18",AfterMotionName:"body/sad",Second:.4},{Id:653,BeforeMotionName:"body/unique18",AfterMotionName:"body/amazement",Second:.3},{Id:654,BeforeMotionName:"body/unique18",AfterMotionName:"body/shy",Second:.4},{Id:655,BeforeMotionName:"body/unique18",AfterMotionName:"body/think",Second:.3},{Id:656,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique1",Second:.3},{Id:657,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique2",Second:.45},{Id:658,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique3",Second:.3},{Id:659,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique4",Second:.3},{Id:660,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique5",Second:.4},{Id:661,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique6",Second:.4},{Id:662,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique7",Second:.3},{Id:663,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique8",Second:.4},{Id:664,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique9",Second:.3},{Id:665,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique10",Second:.3},{Id:666,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique11",Second:.3},{Id:667,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique12",Second:.3},{Id:668,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique13",Second:.3},{Id:669,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique14",Second:.3},{Id:670,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique15",Second:.35},{Id:671,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique16",Second:.3},{Id:672,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique17",Second:.3},{Id:673,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique19",Second:.3},{Id:674,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique20",Second:.3},{Id:675,BeforeMotionName:"body/unique18",AfterMotionName:"body/unique21",Second:.4},{Id:676,BeforeMotionName:"body/unique19",AfterMotionName:"body/normal",Second:.4},{Id:677,BeforeMotionName:"body/unique19",AfterMotionName:"body/happy",Second:.3},{Id:678,BeforeMotionName:"body/unique19",AfterMotionName:"body/angry",Second:.3},{Id:679,BeforeMotionName:"body/unique19",AfterMotionName:"body/sad",Second:.3},{Id:680,BeforeMotionName:"body/unique19",AfterMotionName:"body/amazement",Second:.4},{Id:681,BeforeMotionName:"body/unique19",AfterMotionName:"body/shy",Second:.3},{Id:682,BeforeMotionName:"body/unique19",AfterMotionName:"body/think",Second:.3},{Id:683,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique1",Second:.4},{Id:684,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique2",Second:.3},{Id:685,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique3",Second:.3},{Id:686,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique4",Second:.4},{Id:687,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique5",Second:.4},{Id:688,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique6",Second:.6},{Id:689,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique7",Second:.3},{Id:690,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique8",Second:.4},{Id:691,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique9",Second:.3},{Id:692,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique10",Second:.35},{Id:693,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique11",Second:.4},{Id:694,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique12",Second:.3},{Id:695,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique13",Second:.3},{Id:696,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique14",Second:.4},{Id:697,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique15",Second:.3},{Id:698,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique16",Second:.4},{Id:699,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique17",Second:.3},{Id:700,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique18",Second:.4},{Id:701,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique20",Second:.3},{Id:702,BeforeMotionName:"body/unique19",AfterMotionName:"body/unique21",Second:.35},{Id:703,BeforeMotionName:"body/unique20",AfterMotionName:"body/normal",Second:.45},{Id:704,BeforeMotionName:"body/unique20",AfterMotionName:"body/happy",Second:.3},{Id:705,BeforeMotionName:"body/unique20",AfterMotionName:"body/angry",Second:.4},{Id:706,BeforeMotionName:"body/unique20",AfterMotionName:"body/sad",Second:.3},{Id:707,BeforeMotionName:"body/unique20",AfterMotionName:"body/amazement",Second:.4},{Id:708,BeforeMotionName:"body/unique20",AfterMotionName:"body/shy",Second:.3},{Id:709,BeforeMotionName:"body/unique20",AfterMotionName:"body/think",Second:.4},{Id:710,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique1",Second:.4},{Id:711,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique2",Second:.3},{Id:712,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique3",Second:.3},{Id:713,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique4",Second:.4},{Id:714,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique5",Second:.3},{Id:715,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique6",Second:.4},{Id:716,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique7",Second:.35},{Id:717,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique8",Second:.4},{Id:718,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique9",Second:.3},{Id:719,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique10",Second:.35},{Id:720,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique11",Second:.35},{Id:721,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique12",Second:.3},{Id:722,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique13",Second:.3},{Id:723,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique14",Second:.45},{Id:724,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique15",Second:.35},{Id:725,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique16",Second:.4},{Id:726,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique17",Second:.4},{Id:727,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique18",Second:.4},{Id:728,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique19",Second:.3},{Id:729,BeforeMotionName:"body/unique20",AfterMotionName:"body/unique21",Second:.3},{Id:730,BeforeMotionName:"body/unique21",AfterMotionName:"body/normal",Second:.4},{Id:731,BeforeMotionName:"body/unique21",AfterMotionName:"body/happy",Second:.35},{Id:732,BeforeMotionName:"body/unique21",AfterMotionName:"body/angry",Second:.3},{Id:733,BeforeMotionName:"body/unique21",AfterMotionName:"body/sad",Second:.35},{Id:734,BeforeMotionName:"body/unique21",AfterMotionName:"body/amazement",Second:.4},{Id:735,BeforeMotionName:"body/unique21",AfterMotionName:"body/shy",Second:.4},{Id:736,BeforeMotionName:"body/unique21",AfterMotionName:"body/think",Second:.3},{Id:737,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique1",Second:.45},{Id:738,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique2",Second:.3},{Id:739,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique3",Second:.35},{Id:740,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique4",Second:.4},{Id:741,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique5",Second:.45},{Id:742,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique6",Second:.35},{Id:743,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique7",Second:.3},{Id:744,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique8",Second:.3},{Id:745,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique9",Second:.4},{Id:746,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique10",Second:.35},{Id:747,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique11",Second:.3},{Id:748,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique12",Second:.3},{Id:749,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique13",Second:.4},{Id:750,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique14",Second:.3},{Id:751,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique15",Second:.3},{Id:752,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique16",Second:.45},{Id:753,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique17",Second:.3},{Id:754,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique18",Second:.45},{Id:755,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique19",Second:.3},{Id:756,BeforeMotionName:"body/unique21",AfterMotionName:"body/unique20",Second:.3}];class F{_model;_spineId;_charId="";_slotNumber=0;_characterPosition=q.None;_appearanceType=O.FadeIn;_motions={};_loopMotionData;_eyeBlinkTimeout;constructor(e){switch(this._spineId=e,this._charId=`${this._spineId}`.slice(0,3),this._model=R.from({skeleton:`spine_${e}`,atlas:`spine_atlas_${e}`}),this._model.label=this._charId,this._loopMotionData=de.find(t=>t.TargetCharacterBaseId===this._charId),this._model.state.setAnimation(0,"breath",!0),this._model.state.tracks[0]!=null&&(this._model.state.tracks[0].timeScale=this._loopMotionData?.LoopSpeed||1),this._loopMotionData?.Size??1){case 1:this._model.scale.set(.77),this._model.y=1e3;break;case 2:this._model.scale.set(.79),this._model.y=1080+(158-this._loopMotionData.Height)*9||1080;break;default:this._model.scale.set(.79),this._model.y=1080;break}}addTo(e,t=0){e.addChild(this._model),this._model.zIndex=t}changeSlotNumber(e){this._slotNumber=e}changePosition(e){switch(e){case q.Center:this._model.x=1920/2,this._model.zIndex=0;break;case q.InnerLeft:this._model.x=1920/2-320,this._model.zIndex=1;break;case q.InnerRight:this._model.x=1920/2+320,this._model.zIndex=-1;break;case q.OuterLeft:this._model.x=1920/2-495,this._model.zIndex=1;break;case q.OuterRight:this._model.x=1920/2+495,this._model.zIndex=-1;break;default:this._model.x=1920/2;break}}setScale(e=.75){this._model.scale.set(e)}setCharacterLayer(e){this._model.zIndex=e}SetAllAnimation(e,t=this._loopMotionData?.LoopSpeed||1){const{bodyAnimationName:n,eyebrowAnimationName:d,eyeAnimationName:a,eyeMotionName:i,mouthAnimationName:r,cheekAnimationName:M,headAnimationName:f,headMotionName:g,FacialExpressionMasterId:u}=e;if(n){let l=ae.find(({BeforeMotionName:Y,AfterMotionName:U})=>Y==this._motions.bodyAnimationName&&U==n);this._model.autoUpdate=!1;let C=this._model.state.setAnimation(1,n,!1);C.mixDuration=l?l.Second:.3,this._model.update(0),this._model.autoUpdate=!0}if(d&&this.checkhasAnimation(d)&&d!==this._motions.eyebrowAnimationName){const l=this._model.state.setAnimation(2,d,!1);l.timeScale=0}if(i){const l=this._model.state.setAnimation(3,i,!1);l.trackTime=1}u&&clearTimeout(this._eyeBlinkTimeout),a&&(clearTimeout(this._eyeBlinkTimeout),this._eyeBlinkAnimation(4,a,3.5)),i&&!a&&this._model.state.setEmptyAnimation(4),r&&this._model.state.setAnimation(5,r,!0),M&&this._model.state.setAnimation(6,M,!0),f&&this._model.state.setAnimation(7,f,!1),g&&this._model.state.setAnimation(8,g,!1),this._motions=e}_eyeBlinkAnimation(e,t,n=1){this._model.state.setAnimation(e,t,!1),this._model.state.tracks[e]&&(this._model.state.tracks[e].listener={complete:()=>{this._eyeBlinkTimeout=setTimeout(()=>{clearTimeout(this._eyeBlinkTimeout),this._eyeBlinkAnimation(e,t,n)},n*1e3)}})}onLipSync(){this._model.state.tracks[5]&&(this._model.state.tracks[5].loop=!0)}offLipSync(){let e=this._model.state.tracks[5];e&&(e.loop=!1,e.timeScale=0,e.trackTime=0)}hideCharacter(){clearTimeout(this._eyeBlinkTimeout);const e=this._model.state.setEmptyAnimation(1,0);e.listener={complete:()=>{this._model.visible&&(this._model.autoUpdate=!1,this._model.visible=!1)}}}checkhasAnimation(e){return this._model.skeleton.data.findAnimation(e)!==null}showCharacter(){this._model.autoUpdate||(this._model.update(0),this._model.autoUpdate=!0),this._model.visible=!0}destory(){this._model.destroy()}get slotNumber(){return this._slotNumber}get spineId(){return this._spineId}set visible(e){this._model.visible=e}get visible(){return this._model.visible}}const re=[{Id:1,MotionName:"mouth/normal_anime"},{Id:2,MotionName:"mouth/happy_anime"},{Id:3,MotionName:"mouth/angry_anime"},{Id:4,MotionName:"mouth/sad_anime"}],ue=[{Id:1,MotionName:"body/normal"},{Id:2,MotionName:"body/happy"},{Id:3,MotionName:"body/angry"},{Id:4,MotionName:"body/sad"},{Id:5,MotionName:"body/amazement"},{Id:6,MotionName:"body/shy"},{Id:7,MotionName:"body/think"},{Id:8,MotionName:"body/unique1"},{Id:9,MotionName:"body/unique2"},{Id:10,MotionName:"body/unique3"},{Id:11,MotionName:"body/unique4"},{Id:12,MotionName:"body/unique5"},{Id:13,MotionName:"body/unique6"},{Id:14,MotionName:"body/unique7"},{Id:15,MotionName:"body/unique8"},{Id:16,MotionName:"body/unique9"},{Id:17,MotionName:"body/unique10"},{Id:18,MotionName:"body/unique11"},{Id:19,MotionName:"body/unique12"},{Id:20,MotionName:"body/unique13"},{Id:21,MotionName:"body/unique14"},{Id:22,MotionName:"body/unique15"},{Id:23,MotionName:"body/unique16"},{Id:24,MotionName:"body/unique17"},{Id:25,MotionName:"body/unique18"},{Id:26,MotionName:"body/unique19"},{Id:27,MotionName:"body/unique20"},{Id:28,MotionName:"body/unique21"}],se=[{Id:70,EyeBrow:"eyebrow/normal",Eye:"eye/close",EyeBlink:null,Cheek:"cheek/normal",Mouth:"mouth/normal"},{Id:71,EyeBrow:"eyebrow/normal",Eye:"eye/close",EyeBlink:null,Cheek:"cheek/normal",Mouth:"mouth/happy"},{Id:72,EyeBrow:"eyebrow/fall",Eye:"eye/close",EyeBlink:null,Cheek:"cheek/normal",Mouth:"mouth/normal"},{Id:73,EyeBrow:"eyebrow/fall",Eye:"eye/close",EyeBlink:null,Cheek:"cheek/normal",Mouth:"mouth/sad"},{Id:74,EyeBrow:"eyebrow/rise",Eye:"eye/close",EyeBlink:null,Cheek:"cheek/normal",Mouth:"mouth/sad"},{Id:75,EyeBrow:"eyebrow/rise",Eye:"eye/close",EyeBlink:null,Cheek:"cheek/normal",Mouth:"mouth/normal"},{Id:76,EyeBrow:"eyebrow/rise",Eye:"eye/close",EyeBlink:null,Cheek:"cheek/normal",Mouth:"mouth/angry"},{Id:78,EyeBrow:"eyebrow/shock",Eye:"eye/close",EyeBlink:null,Cheek:"cheek/normal",Mouth:"mouth/happy"},{Id:79,EyeBrow:"eyebrow/normal",Eye:"eye/close",EyeBlink:null,Cheek:"cheek/normal",Mouth:"mouth/sad"},{Id:100,EyeBrow:"eyebrow/normal",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/normal",Mouth:"mouth/normal"},{Id:101,EyeBrow:"eyebrow/rise",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/normal",Mouth:"mouth/happy"},{Id:102,EyeBrow:"eyebrow/normal",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/normal",Mouth:"mouth/sad"},{Id:103,EyeBrow:"eyebrow/normal",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/normal",Mouth:"mouth/happy"},{Id:104,EyeBrow:"eyebrow/rise",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/normal",Mouth:"mouth/angry"},{Id:105,EyeBrow:"eyebrow/fall",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/normal",Mouth:"mouth/normal"},{Id:106,EyeBrow:"eyebrow/normal",Eye:"eye/sad",EyeBlink:"eye/sad_blink",Cheek:"cheek/normal",Mouth:"mouth/sad"},{Id:107,EyeBrow:"eyebrow/rise",Eye:"eye/angry",EyeBlink:"eye/angry_blink",Cheek:"cheek/normal",Mouth:"mouth/sad"},{Id:108,EyeBrow:"eyebrow/normal",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/lethargy",Mouth:"mouth/normal"},{Id:109,EyeBrow:"eyebrow/rise",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/normal",Mouth:"mouth/normal"},{Id:110,EyeBrow:"eyebrow/rise",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/normal",Mouth:"mouth/sad"},{Id:111,EyeBrow:"eyebrow/shock",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/normal",Mouth:"mouth/sad"},{Id:112,EyeBrow:"eyebrow/fall",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/normal",Mouth:"mouth/sad"},{Id:113,EyeBrow:"eyebrow/normal",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/normal",Mouth:"mouth/angry"},{Id:114,EyeBrow:"eyebrow/normal",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/redness",Mouth:"mouth/normal"},{Id:115,EyeBrow:"eyebrow/normal",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/redness",Mouth:"mouth/sad"},{Id:116,EyeBrow:"eyebrow/normal",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/blue",Mouth:"mouth/sad"},{Id:117,EyeBrow:"eyebrow/normal",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/blue",Mouth:"mouth/normal"},{Id:118,EyeBrow:"eyebrow/normal",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/lethargy",Mouth:"mouth/normal"},{Id:119,EyeBrow:"eyebrow/normal",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/lethargy",Mouth:"mouth/sad"},{Id:120,EyeBrow:"eyebrow/normal",Eye:"eye/close",EyeBlink:null,Cheek:"cheek/redness",Mouth:"mouth/normal"},{Id:121,EyeBrow:"eyebrow/rise",Eye:"eye/normal",EyeBlink:"eye/normal_blink",Cheek:"cheek/redness",Mouth:"mouth/normal"},{Id:200,EyeBrow:"eyebrow/normal",Eye:"eye/happy",EyeBlink:"eye/happy_blink",Cheek:"cheek/normal",Mouth:"mouth/happy"},{Id:201,EyeBrow:"eyebrow/fall",Eye:"eye/happy",EyeBlink:"eye/happy_blink",Cheek:"cheek/normal",Mouth:"mouth/normal"},{Id:202,EyeBrow:"eyebrow/normal",Eye:"eye/happy",EyeBlink:"eye/happy_blink",Cheek:"cheek/normal",Mouth:"mouth/normal"},{Id:203,EyeBrow:"eyebrow/normal",Eye:"eye/happy",EyeBlink:"eye/happy_blink",Cheek:"cheek/normal",Mouth:"mouth/happy"},{Id:204,EyeBrow:"eyebrow/fall",Eye:"eye/happy",EyeBlink:"eye/happy_blink",Cheek:"cheek/blue",Mouth:"mouth/normal"},{Id:205,EyeBrow:"eyebrow/normal",Eye:"eye/happy",EyeBlink:"eye/happy_blink",Cheek:"cheek/redness",Mouth:"mouth/normal"},{Id:206,EyeBrow:"eyebrow/normal",Eye:"eye/happy",EyeBlink:"eye/happy_blink",Cheek:"cheek/shock",Mouth:"mouth/happy"},{Id:207,EyeBrow:"eyebrow/rise",Eye:"eye/happy",EyeBlink:"eye/happy_blink",Cheek:"cheek/normal",Mouth:"mouth/angry"},{Id:208,EyeBrow:"eyebrow/rise",Eye:"eye/happy",EyeBlink:"eye/happy_blink",Cheek:"cheek/normal",Mouth:"mouth/happy"},{Id:209,EyeBrow:"eyebrow/rise",Eye:"eye/happy",EyeBlink:"eye/happy_blink",Cheek:"cheek/normal",Mouth:"mouth/normal"},{Id:210,EyeBrow:"eyebrow/fall",Eye:"eye/happy",EyeBlink:"eye/happy_blink",Cheek:"cheek/normal",Mouth:"mouth/happy"},{Id:211,EyeBrow:"eyebrow/rise",Eye:"eye/happy",EyeBlink:"eye/happy_blink",Cheek:"cheek/redness",Mouth:"mouth/angry"},{Id:300,EyeBrow:"eyebrow/rise",Eye:"eye/angry",EyeBlink:"eye/angry_blink",Cheek:"cheek/normal",Mouth:"mouth/angry"},{Id:301,EyeBrow:"eyebrow/rise",Eye:"eye/angry",EyeBlink:"eye/angry_blink",Cheek:"cheek/lethargy",Mouth:"mouth/angry"},{Id:302,EyeBrow:"eyebrow/rise",Eye:"eye/angry",EyeBlink:"eye/angry_blink",Cheek:"cheek/blue",Mouth:"mouth/sad"},{Id:303,EyeBrow:"eyebrow/rise",Eye:"eye/angry",EyeBlink:"eye/angry_blink",Cheek:"cheek/redness",Mouth:"mouth/angry"},{Id:304,EyeBrow:"eyebrow/rise",Eye:"eye/angry",EyeBlink:"eye/angry_blink",Cheek:"cheek/shock",Mouth:"mouth/angry"},{Id:305,EyeBrow:"eyebrow/rise",Eye:"eye/angry",EyeBlink:"eye/angry_blink",Cheek:"cheek/normal",Mouth:"mouth/sad"},{Id:306,EyeBrow:"eyebrow/rise",Eye:"eye/angry",EyeBlink:"eye/angry_blink",Cheek:"cheek/redness",Mouth:"mouth/sad"},{Id:307,EyeBrow:"eyebrow/rise",Eye:"eye/angry",EyeBlink:"eye/angry_blink",Cheek:"cheek/normal",Mouth:"mouth/normal"},{Id:400,EyeBrow:"eyebrow/fall",Eye:"eye/sad",EyeBlink:"eye/sad_blink",Cheek:"cheek/normal",Mouth:"mouth/sad"},{Id:401,EyeBrow:"eyebrow/fall",Eye:"eye/sad",EyeBlink:"eye/sad_blink",Cheek:"cheek/normal",Mouth:"mouth/angry"},{Id:402,EyeBrow:"eyebrow/fall",Eye:"eye/sad",EyeBlink:"eye/sad_blink",Cheek:"cheek/normal",Mouth:"mouth/normal"},{Id:403,EyeBrow:"eyebrow/fall",Eye:"eye/sad",EyeBlink:"eye/sad_blink",Cheek:"cheek/blue",Mouth:"mouth/angry"},{Id:404,EyeBrow:"eyebrow/fall",Eye:"eye/sad",EyeBlink:"eye/sad_blink",Cheek:"cheek/normal",Mouth:"mouth/happy"},{Id:405,EyeBrow:"eyebrow/fall",Eye:"eye/sad",EyeBlink:"eye/sad_blink",Cheek:"cheek/lethargy",Mouth:"mouth/sad"},{Id:406,EyeBrow:"eyebrow/fall",Eye:"eye/sad",EyeBlink:"eye/sad_blink",Cheek:"cheek/blue",Mouth:"mouth/sad"},{Id:407,EyeBrow:"eyebrow/fall",Eye:"eye/sad",EyeBlink:"eye/sad_blink",Cheek:"cheek/redness",Mouth:"mouth/sad"},{Id:408,EyeBrow:"eyebrow/fall",Eye:"eye/sad",EyeBlink:"eye/sad_blink",Cheek:"cheek/lethargy",Mouth:"mouth/sad"},{Id:409,EyeBrow:"eyebrow/normal",Eye:"eye/sad",EyeBlink:"eye/sad_blink",Cheek:"cheek/normal",Mouth:"mouth/normal"},{Id:500,EyeBrow:"eyebrow/shock",Eye:"eye/shock",EyeBlink:"eye/shock_blink",Cheek:"cheek/normal",Mouth:"mouth/normal"},{Id:501,EyeBrow:"eyebrow/shock",Eye:"eye/shock",EyeBlink:"eye/shock_blink",Cheek:"cheek/normal",Mouth:"mouth/angry"},{Id:502,EyeBrow:"eyebrow/shock",Eye:"eye/shock",EyeBlink:"eye/shock_blink",Cheek:"cheek/normal",Mouth:"mouth/sad"},{Id:503,EyeBrow:"eyebrow/shock",Eye:"eye/shock",EyeBlink:"eye/shock_blink",Cheek:"cheek/lethargy",Mouth:"mouth/angry"},{Id:504,EyeBrow:"eyebrow/shock",Eye:"eye/shock",EyeBlink:"eye/shock_blink",Cheek:"cheek/blue",Mouth:"mouth/angry"},{Id:505,EyeBrow:"eyebrow/shock",Eye:"eye/shock",EyeBlink:"eye/shock_blink",Cheek:"cheek/redness",Mouth:"mouth/sad"},{Id:506,EyeBrow:"eyebrow/normal",Eye:"eye/shock",EyeBlink:"eye/shock_blink",Cheek:"cheek/shock",Mouth:"mouth/sad"},{Id:507,EyeBrow:"eyebrow/rise",Eye:"eye/shock",EyeBlink:"eye/shock_blink",Cheek:"cheek/normal",Mouth:"mouth/angry"},{Id:508,EyeBrow:"eyebrow/rise",Eye:"eye/shock",EyeBlink:"eye/shock_blink",Cheek:"cheek/normal",Mouth:"mouth/sad"},{Id:509,EyeBrow:"eyebrow/normal",Eye:"eye/shock",EyeBlink:"eye/shock_blink",Cheek:"cheek/normal",Mouth:"mouth/angry"},{Id:510,EyeBrow:"eyebrow/normal",Eye:"eye/shock",EyeBlink:"eye/shock_blink",Cheek:"cheek/normal",Mouth:"mouth/sad"},{Id:511,EyeBrow:"eyebrow/fall",Eye:"eye/shock",EyeBlink:"eye/shock_blink",Cheek:"cheek/normal",Mouth:"mouth/sad"},{Id:512,EyeBrow:"eyebrow/normal",Eye:"eye/shock",EyeBlink:"eye/shock_blink",Cheek:"cheek/normal",Mouth:"mouth/normal"},{Id:513,EyeBrow:"eyebrow/rise",Eye:"eye/shock",EyeBlink:"eye/shock_blink",Cheek:"cheek/redness",Mouth:"mouth/sad"},{Id:514,EyeBrow:"eyebrow/normal",Eye:"eye/shock",EyeBlink:"eye/shock_blink",Cheek:"cheek/shock",Mouth:"mouth/sad"},{Id:600,EyeBrow:"eyebrow/normal",Eye:"eye/unique",EyeBlink:"eye/unique_blink",Cheek:"cheek/normal",Mouth:"mouth/unique"},{Id:601,EyeBrow:"eyebrow/normal",Eye:"eye/unique",EyeBlink:"eye/unique_blink",Cheek:"cheek/normal",Mouth:"mouth/normal"}],me=[{Id:1,DirectionName:"head/normal"},{Id:2,DirectionName:"head/leftward"},{Id:3,DirectionName:"head/rightward"},{Id:4,DirectionName:"head/downward"},{Id:5,DirectionName:"head/upward"},{Id:6,DirectionName:"head/tilt_left"},{Id:7,DirectionName:"head/tilt_right"}],ye=[{Id:1,MotionName:"head/nod"},{Id:2,MotionName:"head/shake"},{Id:3,MotionName:"head/nod2"},{Id:4,MotionName:"head/shake2"},{Id:5,MotionName:"head/nod3"},{Id:6,MotionName:"head/shake3"}];class fe extends S{_lipMotionParameters=re;_BodyMotions=ue;_facialExpressions=se;_headMotions=ye;_headDirections=me;_standCharacters=new Map;_motionCharacters=[];_prevCharacters=[];constructor(){super(),this.sortableChildren=!0}addTo(e,t=0){return e.addChild(this),this.zIndex=t,this}clear(){this.destroySpine(),this.removeChildren(),this._motionCharacters=[],this._prevCharacters=[]}execute({CharacterMotions:e}){if(e.length===0){this._motionCharacters=[],this.hideAllCharacter();return}this.offAllLipSync(),this._prevCharacters=[...this._prevCharacters.filter(n=>!this._motionCharacters.some(d=>d.slotNumber===n.slotNumber)),...this._motionCharacters],this._motionCharacters=[],e.forEach(n=>{let d;if(n.SpineId===0){let i=this._prevCharacters.find(r=>r.slotNumber===n.slotNumber);i&&(d=i.character,n.SpineId=i.spineId)}else this._standCharacters.has(`${n.SpineId}`)||(d=new F(n.SpineId),d.addTo(this),this._standCharacters.set(`${n.SpineId}`,d));d=d??this._standCharacters.get(`${n.SpineId}`),d?.changeSlotNumber(n.slotNumber),d?.changePosition(n.CharacterPosition);let a={};if(n.FacialExpressionMasterId){let i=this._facialExpressions.find(r=>r.Id===n.FacialExpressionMasterId);a.eyebrowAnimationName=i?.EyeBrow,a.eyeMotionName=i?.Eye,a.eyeAnimationName=i?.EyeBlink??void 0,a.cheekAnimationName=i?.Cheek,a.mouthAnimationName=i?.Mouth,a.FacialExpressionMasterId=n.FacialExpressionMasterId}if(n.HeadMotionMasterId){let i=this._headMotions.find(r=>r.Id===n.HeadMotionMasterId);a.headMotionName=i?.MotionName}if(n.HeadDirectionMasterId){let i=this._headDirections.find(r=>r.Id===n.HeadDirectionMasterId);a.headAnimationName=i?.DirectionName}if(n.BodyMotionMasterId){let i=this._BodyMotions.find(r=>r.Id===n.BodyMotionMasterId);a.bodyAnimationName=i?.MotionName}if(n.LipSyncMasterId){let i=this._lipMotionParameters.find(r=>r.Id===n.LipSyncMasterId);a.mouthAnimationName=i?.MotionName}d?.showCharacter(),d?.SetAllAnimation(a),this._motionCharacters.push({slotNumber:n.slotNumber,spineId:n.SpineId,character:d})}),this._prevCharacters.filter(n=>!this._motionCharacters.some(d=>d.spineId==n.spineId)).forEach(n=>n.character?.hideCharacter())}preCreateCharacterModel(e){!e||e.CharacterMotions.forEach(t=>{if(!this._standCharacters.has(`${t.SpineId}`)&&t.SpineId!=0){let n=new F(t.SpineId);n.visible=!1,n.addTo(this),this._standCharacters.set(`${t.SpineId}`,n)}})}hideCharacter(){this._motionCharacters.forEach(e=>e.character?.hideCharacter())}hideAllCharacter(){Array.from(this._standCharacters).forEach(([e,t])=>t.hideCharacter())}destroySpine(){Object.values(this._standCharacters).forEach(e=>e.destory()),this._standCharacters.clear()}offAllLipSync(){this._motionCharacters.forEach(e=>e.character?.offLipSync())}}var _=(o=>(o[o.BackgroundLayer=1]="BackgroundLayer",o[o.CharacterLayer=2]="CharacterLayer",o[o.EffectLayer=3]="EffectLayer",o[o.TextLayer=4]="TextLayer",o[o.MovieLayer=5]="MovieLayer",o[o.FadeLayer=6]="FadeLayer",o[o.UILayer=10]="UILayer",o[o.HistroyLayer=11]="HistroyLayer",o[o.CoverLayer=12]="CoverLayer",o))(_||{});const y={font:"./RoNOWStd-GBs.otf",icon_bg_red:"./btn_story_scene_icon_bg_red.png",icon_bg_common:"./btn_common_square.png",log_voice_bg:"./btn_story_scene_log_voice_bg.png",icon_auto:"./btn_story_scene_icon_auto.png",icon_translate:"./btn_story_scene_icon_translate.png",icon_next:"./btn_story_scene_icon_next.png",slide:"./btn_story_scene_slide.png",name_bg:"./frm_story_scene_name_bg.png",serif_window_bg:"./frm_story_scene_serif_window_bg.png",bg_pattern:"./ptn_common_05.png",tap_to_start:"./txt_title_common_start.png",illust_jugon_1:"./img_story_scene_illust_jugon_1.png",illust_jugon_2:"./img_story_scene_illust_jugon_2.png",illust_jugon_3:"./img_story_scene_illust_jugon_3.png",jugon_progress:"./jugon_progress/jugon_progress.skel",jugon_progress_atlas:"./jugon_progress/jugon_progress.atlas",sepia:"./sepia2.png",whiteBlur:"./whiteBlurEffect.png"},c="https://raw.githubusercontent.com/wds-sirius/Adv-Resource/main";class he extends S{_sepiaEffectObject;_whiteBlurEffectObject;_whiteBlurEffectAnimation;_nextShouldHide=!1;constructor(){super(),this.sortableChildren=!0,this._sepiaEffectObject=new N(h.from(y.sepia)),this._sepiaEffectObject.width=1920,this._sepiaEffectObject.height=1080,this._sepiaEffectObject.zIndex=20,this._sepiaEffectObject.alpha=.75,this.addChild(this._sepiaEffectObject),this._sepiaEffectObject.visible=!1,this._whiteBlurEffectObject=new N(h.from(y.whiteBlur)),this._whiteBlurEffectObject.anchor.set(.5),this._whiteBlurEffectObject.position.set(1920/2,1080/2),this._whiteBlurEffectObject.zIndex=20,this._whiteBlurEffectObject.visible=!1,this.addChild(this._whiteBlurEffectObject),this._whiteBlurEffectAnimation=new s(this._whiteBlurEffectObject.scale).to({x:1.025,y:1.025},2e3).yoyo(!0).repeat()}clear(){this._sepiaEffectObject.visible&&(this._sepiaEffectObject.visible=!1),this._whiteBlurEffectObject.visible&&(this._whiteBlurEffectObject.visible=!1,this._whiteBlurEffectAnimation.stop())}execute({Effect:e,WindowEffect:t,BackgroundImageFileFadeType:n,FadeValue1:d=0}){e&&console.log("\u66AB\u6642\u6C92\u6709\u898B\u904E \u6240\u4EE5\u4E0D\u77E5\u9053\u600E\u6A23\u505A!",e);const a=n?d*1e3:0;if(a>0)return()=>new Promise((i,r)=>{setTimeout(()=>{this._effectControl(t,!0),i()},a)});this._effectControl(t)}_effectControl(e,t=!1){if(!e||t&&this._nextShouldHide){this._sepiaEffectObject.visible&&(this._sepiaEffectObject.visible=!1),this._whiteBlurEffectObject.visible&&(this._whiteBlurEffectObject.visible=!1,this._whiteBlurEffectAnimation.stop());return}if(e){switch(e){case v.Sepia:this._sepiaEffectObject.visible||(this._sepiaEffectObject.visible=!0);break;case v.WhiteBlur:this._whiteBlurEffectObject.visible||(this._whiteBlurEffectObject.visible=!0,this._whiteBlurEffectAnimation.start());break}return}}get epiaEffectObject(){return this._sepiaEffectObject}get whiteBlurEffectObject(){return this._whiteBlurEffectObject}set nextShouldHide(e){this._nextShouldHide=e}get nextShouldHide(){return this._nextShouldHide}}class ce extends S{_currentMovie;execute({MovieFileName:e}){if(!e)return;let t=m.get(`movie_${e}`);this._currentMovie=new N(t);const n=this._currentMovie.texture.source.resource;return()=>(this._currentMovie&&this.addChild(this._currentMovie),new Promise((d,a)=>{n.onended=()=>{this.removeChild(this._currentMovie),this.hide(),d()}}))}clear(){this.pauseMovie(),this.removeChildren(),this._currentMovie&&this._currentMovie.destroy()}pauseMovie(){this._currentMovie&&this._currentMovie.texture.source.resource.pause()}}class be extends S{_textPanelContainer=new p;_sprakerText;_phrase;_nextIcon;_nextIconAnimtor;_allowNextIconDisplay=!0;_typingEffect;_typingTotalDuration=0;_isTranslate=!1;_fontFamilies=["Ronowstd Gbs"];_currenttext={};constructor(){super(),this._textPanelContainer.sortableChildren=!0,this.addChild(this._textPanelContainer),this._textPanelContainer.alpha=0;const e=h.from(y.serif_window_bg),t=new z({texture:e,leftWidth:68,topHeight:100,rightWidth:68,bottomHeight:100,width:1628,height:248});this._textPanelContainer.addChild(t),this._textPanelContainer.x=(1920-t.width)/2,this._textPanelContainer.y=808,this._phrase=new I({text:"",style:{fill:"#4a424b",fontFamily:"Ronowstd Gbs",fontSize:40,leading:4,lineHeight:50,letterSpacing:-1.1}}),this._textPanelContainer.addChild(this._phrase),this._phrase.x=93.5,this._phrase.y=75;const n=h.from(y.name_bg),d=new z({texture:n,leftWidth:75,topHeight:0,rightWidth:70,bottomHeight:0,width:400,height:80});this._textPanelContainer.addChild(d),d.x=188-d.width/2,d.y=-20,this._sprakerText=new I({text:"",style:{fill:"#ffffff",fontFamily:"Ronowstd Gbs",fontSize:40,letterSpacing:-1}}),this._textPanelContainer.addChild(this._sprakerText),this._sprakerText.anchor.set(.5),this._sprakerText.x=188,this._sprakerText.y=10,this._nextIcon=N.from(y.icon_next),this._textPanelContainer.addChild(this._nextIcon),this._nextIcon.anchor.set(.5),this._nextIcon.position.set(1566,195),this._nextIcon.alpha=0,this._nextIconAnimtor=new s(this._nextIcon.position).to({y:210},700).repeat().yoyo()}clear(){this._textPanelContainer.alpha=0,this._fontFamilies=["Ronowstd Gbs"],this._currenttext={}}static new(){return new this}execute({Order:e,SpeakerName:t,Phrase:n,TLPhrase:d,TLSpeakerName:a}){if(!t&&n.length===0){this._typingTotalDuration=0,this.hideTextPanel();return}this._textPanelContainer.alpha===0&&this.showTextPanelAnimation(),this._nextIcon.alpha=0,this._nextIconAnimtor?.stop(),this._sprakerText.text=(this._isTranslate?a:t)??"",this._sprakerText.style.fontSize=this._sprakerText.width>=275?35:40,this._sprakerText.style.fontFamily=(this._isTranslate?this._fontFamilies[1]:this._fontFamilies[0])||this._fontFamilies[0],this._phrase.style.fontFamily=(this._isTranslate?this._fontFamilies[1]:this._fontFamilies[0])||this._fontFamilies[0];const i=(this._isTranslate?this._currenttext.TLPhrase:this._currenttext.Phrase)||"";this._phrase.text=e>1?`${i}
`:"",this._currenttext={SpeakerName:t,TLSpeakerName:a,Phrase:e>1?`${this._currenttext.Phrase}
${n}`:n,TLPhrase:e>1?`${this._currenttext.TLPhrase}
${d}`:d},this._typingTotalDuration=n.length*50+500;let r=this._isTranslate?d.replaceAll("/n",`
`):n.replaceAll("/n",`
`),M=0;this._typingEffect&&(clearInterval(this._typingEffect),this._typingEffect=void 0),this._typingEffect=setInterval(()=>{M===r.length&&(this._allowNextIconDisplay&&this._playNextIconAnim(),clearInterval(this._typingEffect),this._typingEffect=void 0),this._phrase.text+=r.charAt(M),M++},50)}toggleTextContent(){this._typingEffect&&(clearInterval(this._typingEffect),this._typingEffect=void 0),this._sprakerText.text=(this._isTranslate?this._currenttext.TLSpeakerName:this._currenttext.SpeakerName)||"",this._sprakerText.style.fontFamily=this._isTranslate?this._fontFamilies[1]:this._fontFamilies[0],this._phrase.text=(this._isTranslate?this._currenttext.TLPhrase:this._currenttext.Phrase)?.replaceAll("/n",`
`)||"",this._phrase.style.fontFamily=this._isTranslate?this._fontFamilies[1]:this._fontFamilies[0]}addFontFamily(e){this._fontFamilies.includes(e)||this._fontFamilies.push(e)}hideTextPanelAnimation(){if(this._textPanelContainer.alpha===1)return new Promise((e,t)=>{new s(this._textPanelContainer).to({alpha:0},100).start(),setTimeout(()=>{e()},250)})}showTextPanelAnimation(){new s(this._textPanelContainer).to({alpha:1},100).start()}hideTextPanel(){this._textPanelContainer.alpha=0}showTextPanel(){this._textPanelContainer.alpha=1}_playNextIconAnim(){this._nextIcon.alpha=1,this._nextIcon.y=195,this._nextIconAnimtor?.start()}get typingTotalDuration(){return this._typingTotalDuration}set allowNextIconDisplay(e){this._allowNextIconDisplay=e}get isTranslate(){return this._isTranslate}set isTranslate(e){this._isTranslate=e}}function E(o){let e=o?.empty?new N(h.EMPTY):new N(h.WHITE);return e.width=o?.width||1920,e.height=o?.height||1080,e.anchor.set(.5),e.position.set((o?.width||1920)/2,(o?.height||1080)/2),e.alpha=o?.alpha??1,o?.color!=null&&(e.tint=o.color),e}class Me extends p{_bg;_jugon;aplha_filter=new W;_spineDuratinon=3400;constructor(){super(),this.alpha=0,this._bg=new x,this._bg.rect(0,0,1920,1080).fill(16777215),this.addChild(this._bg),this._jugon=R.from({skeleton:y.jugon_progress,atlas:y.jugon_progress_atlas}),this._jugon.scale.set(.25);let e=this._jugon.getBounds().height;this._jugon.position.set(1920/2,1080/2+e/2),this._jugon.filters=[this.aplha_filter],this._jugon.state.addListener({complete:()=>this._hide()}),this._jugon.visible=!1,this.addChild(this._jugon)}static create(){return new this}get FadeIn(){return new s(this).to({alpha:1},400).onComplete(()=>{this._jugon.visible=!0,this._jugon.state.setAnimation(0,"animation",!1)})}_hide(){new s(this.aplha_filter).to({alpha:0},300).chain(new s(this).to({alpha:0},300).delay(800).onComplete(()=>{this._jugon.visible=!1}).start()).start()}get totalDuration(){return 400+this._spineDuratinon+1200}}class le extends S{_whiteFadePanel=E({alpha:0});_blackFadePanel=E({color:0,alpha:0});_advTimeElapsed=Me.create();_totalDuration=0;constructor(){super(),this.sortableChildren=!0,this._whiteFadePanel.zIndex=5,this.addChild(this._whiteFadePanel),this._blackFadePanel.zIndex=5,this.addChild(this._blackFadePanel),this._advTimeElapsed.zIndex=5,this.addChild(this._advTimeElapsed)}clear(){this._whiteFadePanel.alpha=0,this._blackFadePanel.alpha=0,this._advTimeElapsed.alpha=0}execute({BackgroundImageFileFadeType:e,FadeValue1:t=0,FadeValue2:n=0,FadeValue3:d=0}){let a;if(e)switch(e){case A.BlackFadeOutFadeIn:a=new s(this._blackFadePanel).to({alpha:1},t*1e3).chain(new s(this._blackFadePanel).delay(2e3+n*1e3).to({alpha:0},d*1e3)),this._totalDuration=t*1e3+(2e3+n*1e3)+d*1e3;break;case A.WhiteFadeOutFadeIn:a=new s(this._whiteFadePanel).to({alpha:1},t*1e3).chain(new s(this._whiteFadePanel).delay(2e3+n*1e3).to({alpha:0},d*1e3)),this._totalDuration=t*1e3+(2e3+n*1e3)+d*1e3;break;case A.TimeElapsed:a=this._advTimeElapsed.FadeIn,this._totalDuration=this._advTimeElapsed.totalDuration+200;break}if(a)return()=>(a.start(),new Promise((i,r)=>{setTimeout(()=>{i()},this._totalDuration+200)}))}}class $ extends p{_content;_base_sprite;_base_bg;_pressed_bg;_isPressed=!1;_onClickList=[];_config;constructor(e,t,n,d){super(),this._base_bg=t,this._base_sprite=new N(this._base_bg),this._base_sprite.anchor.set(.5),this.addChild(this._base_sprite),this.eventMode="static",this.cursor="pointer",this.on("pointertap",this._onclick,this),this._pressed_bg=n,this._content=new N(e),this._content.anchor.set(.5),this._content.tint=4934475,this.addChild(this._content),this._config=d??{}}static create(e,t,n,d){return new this(e,t,n,d)}addTo(e){return e.addChild(this),this}clear(){this._onClickList=[]}pos(e,t){return this.position.set(e,t),this}addclickFun(e){return this._onClickList.push(e),this}_onclick(){this.Pressed=!this._isPressed}get Pressed(){return this._isPressed}set Pressed(e){this._isPressed=e,this._isPressed?(this._base_sprite.texture=this._pressed_bg,this._content.tint=16777215):(this._base_sprite.texture=this._base_bg,this._content.tint=4934475),this._onClickList.forEach(t=>t(this))}}class Ne extends S{_currentStatus=1;_autoBtn;_translateBtn;_Animation;constructor(){super(),this.alpha=0;let e=h.from(y.icon_bg_common),t=h.from(y.icon_bg_red);this._autoBtn=$.create(h.from(y.icon_auto),e,t).addTo(this).pos(1846.5,75).addclickFun(()=>{let n=this._autoBtn.Pressed;this._Animation?.stop(),this._Animation?.stopChainedTweens(),n?(this._Animation=this._hideAnimation().delay(1e3).start(),this._currentStatus=0):(this._Animation=this._showAnimation().start(),this._currentStatus=1)}),this._translateBtn=$.create(h.from(y.icon_translate),e,t).addTo(this).pos(1846.5,205),this._translateBtn.visible=!1}clear(){this.alpha=0,this.TranslateBtn.clear()}enableTLBtn(){this._translateBtn.Pressed=!0,this._translateBtn.visible=!0}ShortShow(){this._currentStatus===0&&this.alpha===0&&(this._Animation=this._showAnimation(),this._Animation.chain(this._hideAnimation().delay(3e3)),this._Animation.start())}_showAnimation(){return new s(this).to({alpha:1},500)}_hideAnimation(){return new s(this).to({alpha:0},500)}get AutoBtn(){return this._autoBtn}get TranslateBtn(){return this._translateBtn}}class V extends p{ptn_bg;_anim_jugon;_animation;_touch_Animation;_locked=!1;_top_text;_middle_text;_bottom_text;_percent_text;_info_text;_fontFamilies=["Ronowstd Gbs"];_isauto=!1;constructor(){super(),this.addChild(E({})),this.ptn_bg=new J({texture:h.from(y.bg_pattern),width:2200,height:1860}),this.ptn_bg.anchor.set(.5),this.ptn_bg.position.set(1920/2,1080/2),this.ptn_bg.angle=-30,this.addChild(this.ptn_bg),T.shared.add(this._BGupdate,this);const e=new x;e.rect(-(1920/2)-10,-(410/2),1940,410).fill(16777215).stroke({width:5,color:5131358}),e.position.set(1920/2,530),e.scale.set(1),e.height=0,this.addChild(e);const t=new s(e).to({height:410},500),n=[],d=[h.from(y.illust_jugon_1),h.from(y.illust_jugon_2),h.from(y.illust_jugon_3)];this._anim_jugon=new K(d),this._anim_jugon.position.set(1030,290),this.addChild(this._anim_jugon),this._anim_jugon.scale.set(1.2),this._anim_jugon.anchor.set(.5),this._anim_jugon.animationSpeed=.13,this._anim_jugon.alpha=0;const a=new s(this._anim_jugon).to({alpha:1,position:{x:1920/2}},1e3).onStart(()=>{this._anim_jugon.play()});n.push(a);const i=new N(h.from(y.tap_to_start));i.anchor.set(.5),i.position.set(1920/2,915),i.alpha=0,this.addChild(i),this._touch_Animation=new s(i).to({alpha:1},1500).repeat().yoyo().onStart(()=>{this.eventMode="dynamic",this.cursor="pointer"}),this._percent_text=new I({text:"",style:{fill:"#4a424b",fontFamily:"Ronowstd Gbs",fontSize:50,leading:4,letterSpacing:-1}}),this._percent_text.anchor.set(1,.5),this._percent_text.position.set(1920-120,1080-80),this.addChild(this._percent_text),this._info_text=new I({text:"",style:{fill:"#4a424b",fontFamily:"Ronowstd Gbs",fontSize:45,leading:4,letterSpacing:-1}}),this._info_text.x=1920/2,this._info_text.y=745,this._info_text.anchor.set(.5,0),this._info_text.alpha=0,this.addChild(this._info_text),n.push(new s(this._info_text).to({alpha:1},1e3)),this._top_text=new I({text:"",style:{fill:"#4a424b",fontFamily:"Ronowstd Gbs",fontSize:41.5,leading:4,letterSpacing:-1}}),this._top_text.x=1920/2,this._top_text.y=410,this._top_text.anchor.set(.5),this._top_text.alpha=0,this.addChild(this._top_text),n.push(new s(this._top_text).to({alpha:1},1e3)),this._middle_text=new I({text:"",style:{fill:"#4a424b",fontFamily:"Ronowstd Gbs",fontSize:100,leading:4,letterSpacing:-1}}),this._middle_text.x=1920/2,this._middle_text.y=530,this._middle_text.anchor.set(.5),this._middle_text.alpha=0,this.addChild(this._middle_text),n.push(new s(this._middle_text).to({alpha:1},1e3)),this._bottom_text=new I({text:"",style:{fill:"#4a424b",fontFamily:"Ronowstd Gbs",fontSize:48.5,leading:4,letterSpacing:-1}}),this._bottom_text.x=1920/2,this._bottom_text.y=650,this._bottom_text.anchor.set(.5),this._bottom_text.alpha=0,this.addChild(this._bottom_text),n.push(new s(this._bottom_text).to({alpha:1},1e3)),this._animation=t.chain(...n)}addTo(e,t){return e.addChild(this),t&&e.sortableChildren&&(this.zIndex=t),this}setAuto(e){this._isauto=e}static new(){return new this}addFontFamily(e){this._fontFamilies.includes(e)||this._fontFamilies.push(e)}init({type:e,chapter:t,title:n,order:d,TLTitle:a,info:i,TLChapter:r}){(e===k.Main||e===k.Event)&&(this._top_text.text=r?`${r}`:`${t}`,this._top_text.style.fontFamily=(r?this._fontFamilies[1]:this._fontFamilies[0])||this._fontFamilies[0],this._middle_text.text=`\u7B2C\u3000${d}\u3000\u8A71`,this._bottom_text.text=a?`${a}`:`${n}`,this._bottom_text.style.fontFamily=(a?this._fontFamilies[1]:this._fontFamilies[0])||this._fontFamilies[0]),e===k.Side&&(this._top_text.text=`\u30B5\u30A4\u30C9\u30B9\u30C8\u30FC\u30EA\u30FC${d==1?"(\u524D\u7DE8)":"(\u5F8C\u7DE8)"}`,this._middle_text.text=a?`${a}`:`${n}`,this._middle_text.style.fontFamily=(a?this._fontFamilies[1]:this._fontFamilies[0])||this._fontFamilies[0]),e===k.Special&&(this._top_text.text=r?`${r}`:`${t}`,this._top_text.style.fontFamily=(r?this._fontFamilies[1]:this._fontFamilies[0])||this._fontFamilies[0],this._middle_text.text=a?`${a}`:`${n}`,this._middle_text.style.fontFamily=(a?this._fontFamilies[1]:this._fontFamilies[0])||this._fontFamilies[0]),i&&(this._info_text.text=`${i.replaceAll("/n",`
`).replaceAll("\\n",`
`)}`,this._info_text.style.fontFamily=this._fontFamilies[1]||this._fontFamilies[0]),this._animation.start()}progress(e){if(this._locked)return;const t=`${e} %`;if(e===100){this._percent_text.alpha=0,this._isauto||this._touch_Animation.start();return}this._percent_text.text=t}error(e){this._locked=!0,this._percent_text.style.fill=16711680,this._percent_text.text=e?`ERROR : ${e}`:"ERROR"}log(e){this._percent_text.style.fill=4866635,this._percent_text.text=e}close(e){const t=new x;t.circle(0,0,1920/1.7).fill(0),t.position.set(1920/2,1080/2),t.scale.set(0),this.setMask({mask:t,inverse:!0}),this.addChild(t),new s(t.scale).to({x:1,y:1},600).onComplete(()=>{this.visible=!1,T.shared.remove(this._BGupdate,this),this._anim_jugon.stop(),this._isauto||this._touch_Animation.stop(),this.destroy({children:!0}),e?.()}).start()}_BGupdate(){this.ptn_bg.tilePosition.x+=1}}class _e{_isVoice=!0;_voiceDuration=0;_seDuration=0;_currentBgm=null;_currentVoice=null;_currentSe=null;_onVoiceEnd;static new(){return new this}constructor(){L.disableAutoPause=!0,L.volumeAll=.5}reset(){this._currentVoice&&(this._currentVoice.stop(),this._currentVoice=null),this._currentBgm&&(this._currentBgm.stop(),this._currentBgm=null),this._currentSe&&(this._currentSe.stop(),this._currentSe=null),this._onVoiceEnd=void 0,this._voiceDuration=0}sound({BgmFileName:e,SeFileName:t}){this.stopPrevSound(),e&&this._playBgm(e),t&&this._playSe(t)}voice({VoiceFileName:e}){this._currentVoice?.stop(),e&&this._playVoice(e)}_playBgm(e){if(e==="999"){this._currentBgm?.stop(),this._currentBgm=null;return}m.cache.has(`bgm_${e}`)&&(this._currentBgm?.stop(),this._currentBgm=m.get(`bgm_${e}`),this._currentBgm?.play({loop:!0,singleInstance:!0,volume:.4}))}_playSe(e){if(m.cache.has(`se_${e}`)){this._currentSe=m.get(`se_${e}`);let t=this._currentSe?.play();this._seDuration=(this._currentSe?.duration??0)*1e3;const n=t;n.on("progress",()=>{this._seDuration=(1-n.progress)*(this._currentSe?.duration||0)*1e3+500}),n.once("end",()=>{n.off("progress"),this._currentSe=null})}}_playVoice(e){if(!this._isVoice){this._voiceDuration=Math.max(3e3,this._voiceDuration),setTimeout(()=>{this._onVoiceEnd?.(),this._onVoiceEnd=void 0},5e3);return}m.cache.has(`voice_${e}`)&&(this._currentVoice=m.get(`voice_${e}`),this._voiceDuration=Math.max((this._currentVoice?.duration??0)*1e3,this._voiceDuration),(this._currentVoice?.play()).once("end",()=>{this._onVoiceEnd?.(),this._onVoiceEnd=void 0,this._currentVoice=null}))}stopPrevSound(){this._currentSe?.stop(),this._currentVoice?.stop(),this._voiceDuration=0,this._seDuration=0}get voiceDuration(){return this._voiceDuration}get seDuration(){return this._seDuration}get onVoiceEnd(){return this._onVoiceEnd}set onVoiceEnd(e){this._onVoiceEnd=e}set isVoice(e){this._isVoice=e}get isVoice(){return this._isVoice}}class B{static _TLReaderMap=new Map;_translateModel;_currentLanguage;_hasTranslate=!1;async load(e){if(e.content)return this._translateModel=e.content,e.font?this._currentLanguage=e.font:e.loadParser&&(this._currentLanguage=B.getReader(e.loadParser)?.font),this._hasTranslate=!0;let t;if(e.loadParser&&(t=B.getReader(e.loadParser)),!t)return console.error("No Translate Reader found"),this._hasTranslate=!1;try{this._translateModel=await t.read(e.EpId),this._translateModel&&(this._currentLanguage=t.font,this._hasTranslate=!0)}catch{return console.error("No Translate file found"),this._hasTranslate=!1}return this._hasTranslate}static addReader(e){if(this._TLReaderMap.has(e.language)){console.info("the reader for this language already exists");return}return this._TLReaderMap.set(e.language,e),e}static removeReader(e){return this._TLReaderMap.delete(e)}static getReader(e){return this._TLReaderMap.get(e)}get hasTranslate(){return this._hasTranslate}get translateModel(){return this._translateModel}getFont(){return this._currentLanguage}findTranslate(e){return this._translateModel?.translateDetail.find(t=>Number(t.Id)===e)}}const b={bgmMaster:`${c}/manifest/BGM.json`,seMaster:`${c}/manifest/SE.json`,advJson:o=>`${c}/episode/${o}.json`,spine:o=>`${c}/spine/${o}.skel`,spine_atlas:o=>`${c}/spine/${o}.atlas`,background:o=>`${c}/background/${o}.png`,cards:o=>`${c}/card/${o}.png`,still:o=>`${c}/still/${o}.png`,movie:o=>`${c}/movie/${o}.mp4`,manifest:o=>`${c}/voice/${o}/manifest.json`,voice:(o,e)=>`${c}/voice/${o}/${e}.mp3`,bgm:o=>`${c}/bgm/${o}.mp3`,se:o=>`${c}/se/${o}.mp3`};async function w(o){return fetch(o).then(e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})}async function qe(o){return fetch(o).then(e=>{if(!e.ok)throw new Error(e.statusText);return e.text()}).then(async e=>Q.exports.parse(e,{header:!0}).data)}async function Ie(o,e,t){const n={},d=await w(b.bgmMaster),a=await w(b.seMaster);return o.EpisodeDetail.forEach(i=>{i.BackgroundImageFileName&&(n[`bg_${i.BackgroundImageFileName}`]||(n[`bg_${i.BackgroundImageFileName}`]=b.background(i.BackgroundImageFileName))),i.BackgroundCharacterImageFileName&&(n[`card_${i.BackgroundCharacterImageFileName}`]||(n[`card_${i.BackgroundCharacterImageFileName}`]=b.cards(i.BackgroundCharacterImageFileName))),i.StillPhotoFileName&&(n[`still_${i.StillPhotoFileName}`]||(n[`still_${i.StillPhotoFileName}`]=b.still(i.StillPhotoFileName))),i.MovieFileName&&(n[`movie_${i.MovieFileName}`]||(n[`movie_${i.MovieFileName}`]=b.movie(i.MovieFileName))),i.BgmFileName&&d.includes(i.BgmFileName)&&i.BgmFileName!="999"&&!n[`bgm_${i.BgmFileName}`]&&(n[`bgm_${i.BgmFileName}`]=b.bgm(i.BgmFileName)),i.SeFileName&&a.includes(i.SeFileName)&&!n[`se_${i.SeFileName}`]&&(n[`se_${i.SeFileName}`]=b.se(i.SeFileName)),i.CharacterMotions.forEach(r=>{r.SpineId!=0&&!n[`spine_${r.SpineId}`]&&(n[`spine_${r.SpineId}`]=b.spine(r.SpineId),n[`spine_atlas_${r.SpineId}`]=b.spine_atlas(r.SpineId))})}),e&&(await w(b.manifest(o.EpisodeId))).forEach(r=>{n[`voice_${r}`]=b.voice(o.EpisodeId,r)}),m.addBundle(`${o.EpisodeId}_bundle`,n),m.loadBundle(`${o.EpisodeId}_bundle`,t)}function Be(o,e){return m.addBundle(o,e),m.loadBundle(o)}async function G(o){const e=await qe(o),t={translateDetail:e.filter(n=>n.Phrase)};for(let n of e.filter(d=>!d.Phrase))n.Id.toLowerCase()==="translator"&&(t.translator=n.SpeakerName),n.Id.toLowerCase()==="proofreader"&&(t.proofreader=n.SpeakerName),(n.Id.toLowerCase()==="title"||n.Id.toLowerCase()==="tltitle")&&(t.TLTitle=n.SpeakerName),n.Id.toLowerCase()==="info"&&(t.info=n.SpeakerName),(n.Id.toLowerCase()==="chapter"||n.Id.toLowerCase()==="tlchapter")&&(t.TLChapter=n.SpeakerName);return e.length>0?t:void 0}async function Se(o,e){const t=await fetch(o);if(!t.ok){if(t.status===404)return;throw new Error(t.statusText)}const n=await t.json();if(n&&n.translated&&Array.isArray(n.translated)){const d=n.translated.map((i,r)=>({Id:`${e}${(r+1).toString().padStart(3,"0")}`,SpeakerName:i.SpeakerName||"",Phrase:"",translation:i.Phrase||""})),a={translator:"AI\u7FFB\u8BD1",translateDetail:d};return d.length>0?a:void 0}}const Ae={language:"zhcn",url:"https://raw.githubusercontent.com/DreamGallery/WDS-Translation-Csv/main",font:{family:"Hiraginosansgb",url:"./HiraginoSansGB.ttf"},read:function(o){return G(`${this.url}/TranslationCsv/${o}.csv`)}};B.addReader(Ae);const pe={language:"zhcnai",url:"https://raw.githubusercontent.com/huang207/WDS-Translation-Csv/ai",font:{family:"Hiraginosansgb",url:"./HiraginoSansGB.ttf"},read:function(o){return G(`${this.url}/TranslationCsv/${o}.csv`)}};B.addReader(pe);const ge={language:"zhai",url:"https://wds-translation.littletoxic.top",font:{family:"Hiraginosansgb",url:"./HiraginoSansGB.ttf"},read:function(o){return Se(`${this.url}/${o}.json`,o)}};B.addReader(ge);function ke(o){return typeof o!="object"||o===null?!1:(Object.keys(o).forEach(t=>{if(!(t in o))return!1}),!0)}function we(o){try{return Boolean(new URL(o))}catch{return!1}}let Z;async function Ee(o="webgpu"){document.getElementById("WDS")&&document.getElementById("WDS").remove(),o.toLocaleLowerCase()!="webgl"&&o.toLocaleLowerCase()!="webgpu"&&(o="webgpu");const e=new ee;await e.init({preference:o,hello:!1,width:1920,height:1080,backgroundAlpha:0}),Z=e.renderer.name,globalThis.__PIXI_APP__=e,e.canvas.setAttribute("id","WDS"),document.body.appendChild(e.canvas),T.shared.add(()=>oe.shared.update());let t=()=>{const n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),d=Math.max(document.documentElement.clientHeight,window.innerHeight||0),a=Math.min(n/1920,d/1080);let i=Math.floor(1920*a),r=Math.floor(1080*a);e.canvas.style.width=i+"px",e.canvas.style.height=r+"px"};return window.onresize=()=>t(),t(),e}const{log:X}=console;function Ce(){let o=[`

 %c  %c  World Dai Star Adv Player 2.0.0 (${Z}) %c  %c  https://github.com/Cpk0521  %c 

`,"background: #00ffff; padding:5px 0;","color: #00ffff; background: #030307; padding:5px 0;","background: #00ffff; padding:5px 0;","background: #CCffff; padding:5px 0;","background: #00ffff; padding:5px 0;"];X(...o)}function xe(o,e,t){X("%c%s%c%s%c%s","color:white;background:#23c4ed","\u3010Track\u3011",""," ","color:#23c4ed",`[${o}/${e}]`,t)}class Te extends p{_inited=!1;_loadPromise;_backgroundView;_characterView;_effectView;_textView;_movieView;_fadeView;_uiView;_coverOpening;_soundController=new _e;_translationController=new B;_episode;_currentIndex=0;_currentGroupOrder=0;_isAuto=!1;_isVoice=!0;_isAdventureEnded=!1;_processing=[];_trackPromise;_handleVisibilityChange=this._onBlur.bind(this);constructor(){super(),this.addChild(E({empty:!0,color:0})),this.sortableChildren=!0,this.eventMode="static",document.addEventListener("visibilitychange",this._handleVisibilityChange),Ce()}static async create(e){const t=new this;return e&&t.addTo(e),await t.init(),t}async init(){await Be("baseAssets",y),this._uiView=new Ne().addTo(this,_.UILayer),this._fadeView=new le().addTo(this,_.FadeLayer),this._movieView=new ce().addTo(this,_.MovieLayer),this._textView=new be().addTo(this,_.TextLayer),this._effectView=new he().addTo(this,_.EffectLayer),this._characterView=new fe().addTo(this._effectView,_.CharacterLayer),this._backgroundView=new ie().addTo(this._effectView,_.BackgroundLayer),this._coverOpening=V.new().addTo(this,_.CoverLayer),this._uiView.AutoBtn.addclickFun(()=>{this._isAuto=this._uiView.AutoBtn.Pressed,this._trackPromise&&this._isAuto&&(this._trackPromise=this._trackPromise.then(e=>this._isAuto?(e&&(this._trackPromise=void 0,this._renderFrame()),!1):!0))}),this._inited=!0}addTo(e){return e.addChild(this),this}async clear(){await m.unloadBundle(`${this._episode.EpisodeId}_bundle`),this._currentIndex=0,this._episode=void 0,this._backgroundView.clear(),this._characterView.clear(),this._effectView.clear(),this._textView.clear(),this._movieView.clear(),this._fadeView.clear(),this._uiView.clear(),this._coverOpening=V.new().addTo(this,_.CoverLayer)}async load(e,t){return this._loadPromise=new Promise(async(n,d)=>{if(typeof e=="string"&&(we(e)||(e=b.advJson(e)),e=await w(e).catch(()=>{throw this._coverOpening?.error("The episode ID or URL is not correct, please re-confirm."),new Error("The episode ID or URL is not correct, please re-confirm.")})),!ke(e))throw this._coverOpening?.error("Episode file format error."),new Error("Episode file format error.");if(this._episode&&await this.clear(),t){let a=await this._translationController.load({EpId:e.EpisodeId,loadParser:t});if(a){this._uiView.enableTLBtn(),this._textView.isTranslate=a,this._uiView.TranslateBtn.addclickFun(()=>{this._textView.isTranslate=this._uiView.TranslateBtn.Pressed,this._textView.toggleTextContent()});const i=this._translationController.getFont();i&&(this._textView.addFontFamily(i.family),this._coverOpening.addFontFamily(i.family),m.cache.has(i.url)||(this._coverOpening.log("loading assets..."),await m.load(i.url)))}}this._episode=e,this._coverOpening?.init({type:this._episode.StoryType,chapter:this._episode.Chapter,title:this._episode.Title,order:this._episode.Order,TLTitle:this._translationController.translateModel?.TLTitle,TLChapter:this._translationController.translateModel?.TLChapter,info:this._translationController.translateModel?.info}),await Ie(e,this._isVoice,a=>this._coverOpening?.progress(Math.floor(a*100))).catch(()=>this._coverOpening?.error()),n(this._episode)})}loadAndPlay(e,t,n){this._autoLock(n),this.load(e,t).then(()=>this._onready())}play(e){this._autoLock(e),this._loadPromise&&this._loadPromise.then(()=>this._onready())}_onready(){if(!this._loadPromise){console.log("dont repeat play");return}this._loadPromise=void 0,this._isAuto?setTimeout(()=>{this._play()},3e3):this._coverOpening?.once("pointertap",this._play,this)}_play(){this._coverOpening?.close(()=>{setTimeout(()=>{this.on("pointertap",this._tap,this),this._renderFrame()},400)}),this._isAuto?(this._uiView.AutoBtn.Pressed=this._isAuto,this._uiView.hide()):this._uiView.alpha=1,this._preRenderFrame()}_next(){return this._currentIndex++,this.currentTrack}async _preRenderFrame(){this._currentIndex!=0||!this.currentTrack||(this._characterView.preCreateCharacterModel(this.currentTrack),this._effectView.execute(this.currentTrack),this._backgroundView.execute(this.currentTrack))}async _renderFrame(){this._trackPromise=void 0;let e=this._currentIndex;if(!this.currentTrack)return;if(xe(e+1,this.Track.length,this.currentTrack),this._translationController.hasTranslate){let r=this._translationController.findTranslate(this.currentTrack.Id);r&&(this.currentTrack.TLSpeakerName=r.SpeakerName,this.currentTrack.TLPhrase=r.translation||r.Phrase)}let t=this._fadeView.execute(this.currentTrack);if(t&&this._processing.push(t),e>0){this._effectView.nextShouldHide=!this.nextTrack?.WindowEffect;let r=this._effectView.execute(this.currentTrack);r&&this._processing.push(r);let M=this._backgroundView.execute(this.currentTrack);M&&this._processing.push(M)}this._processing.length>0&&(await this._textView.hideTextPanelAnimation(),this._characterView.hideCharacter()),this._soundController.sound(this.currentTrack),await Promise.all(this._processing.map(r=>r())).then(()=>{this._processing=[]});let n=this._movieView.execute(this.currentTrack);n&&(this._characterView.hideCharacter(),await this._textView.hideTextPanelAnimation(),await n()),this.currentTrack.BackgroundCharacterImageFileName?this._characterView.hideCharacter():this._characterView.execute(this.currentTrack);let d=this.currentTrack.Phrase,a=this.currentTrack.GroupOrder==this.nextTrack?.GroupOrder;this._textView.allowNextIconDisplay=!a,this._textView.execute(this.currentTrack),this._soundController.onVoiceEnd=()=>this._characterView.offAllLipSync(),this._soundController.voice(this.currentTrack),this._next(),this._characterView.preCreateCharacterModel(this.currentTrack);let i=Math.max(this._soundController.voiceDuration,this._soundController.seDuration,this._textView.typingTotalDuration??0);if(d.length===0||a){a&&(i+=1200),setTimeout(()=>{e+1===this._currentIndex&&this._renderFrame()},i);return}return this._isAuto?(i+=1700,this._trackPromise=new Promise((r,M)=>{let f=setTimeout(()=>{clearTimeout(f),f=null,this._isAuto&&e+1===this._currentIndex&&(this._trackPromise=void 0,this._renderFrame(),r(!1)),r(!0)},i)})):this._trackPromise=new Promise((r,M)=>{let f=setTimeout(()=>{clearTimeout(f),f=null,r(!0)},i+1e3)})}_onBlur(){this._isAuto&&document.hidden&&(this._isAuto=!1,this._uiView.AutoBtn.Pressed=!1)}_tap(e){e.target===this&&(this._processing.length===0&&!this._isAuto&&this._renderFrame(),this._isAuto&&this._uiView.ShortShow())}_autoLock(e){e?.toLocaleLowerCase()=="true"&&(this._isAuto=!0,this._coverOpening?.setAuto(!0),document.removeEventListener("visibilitychange",this._handleVisibilityChange))}get Track(){return this._episode?.EpisodeDetail}get currentTrack(){return this._currentIndex>=(this._episode?.EpisodeDetail.length??0)?void 0:this._episode?.EpisodeDetail[this._currentIndex]}get nextTrack(){return this._currentIndex+1>=(this._episode?.EpisodeDetail.length??0)?void 0:this._episode?.EpisodeDetail[this._currentIndex+1]}get isVoice(){return this._isVoice}set isVoice(e){this._isVoice=e,this._soundController.isVoice=this._isVoice}get TranslationController(){return this._translationController}}const{id:D,tl:H,at:j,renderer:ve}=te(),Pe=await Ee(ve),P=await Te.create(Pe.stage);globalThis.advplayer=P;if(D)P.loadAndPlay(D,H,j);else{let o=prompt("Please enter the story Id","1000000");o&&P.loadAndPlay(o,H,j)}
